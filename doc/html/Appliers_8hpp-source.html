<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Appliers.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>Appliers.hpp</h1><a href="Appliers_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <font class="comment">//</font>
00003 <font class="comment">// Appliers</font>
00004 <font class="comment">//</font>
00005 <font class="comment">// 16 September 2004 </font>
00006 <font class="comment">//</font>
00007 
00008 <font class="preprocessor">#ifndef INDRI_APPLIERS_HPP</font>
00009 <font class="preprocessor"></font><font class="preprocessor">#define INDRI_APPLIERS_HPP</font>
00010 <font class="preprocessor"></font>
00011 <font class="preprocessor">#include "<a class="code" href="delete__range_8hpp.html">indri/delete_range.hpp</a>"</font>
00012 
00013 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T, <font class="keyword">class</font> NodeType = indri::lang::Node&gt;
<a name="l00014"></a><a class="code" href="classApplySingleCopier.html">00014</a> <font class="keyword">class </font><a class="code" href="classApplySingleCopier.html">ApplySingleCopier</a> {
00015 <font class="keyword">private</font>:
<a name="l00016"></a><a class="code" href="classApplySingleCopier.html#o0">00016</a>   std::vector&lt;indri::lang::Node*&gt; <a class="code" href="classApplySingleCopier.html#o0">_roots</a>;
<a name="l00017"></a><a class="code" href="classApplySingleCopier.html#o1">00017</a>   T* <a class="code" href="classApplySingleCopier.html#o1">_copier</a>;
00018 
00019 <font class="keyword">public</font>:
<a name="l00020"></a><a class="code" href="classApplySingleCopier.html#a0">00020</a>   <a class="code" href="classApplySingleCopier.html#a0">ApplySingleCopier</a>( std::vector&lt;NodeType*&gt;&amp; previous, <font class="keyword">class</font> <a class="code" href="classRepository.html">Repository</a>&amp; repository ) {
00021     <a class="code" href="classApplySingleCopier.html#o1">_copier</a> = <font class="keyword">new</font> T;
00022 
00023     <font class="keywordflow">for</font>( size_t i=0; i&lt;previous.size(); i++ ) {
00024       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* root = previous[i];
00025       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* newRoot = root-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>( *<a class="code" href="classApplySingleCopier.html#o1">_copier</a> );
00026 
00027       <a class="code" href="classApplySingleCopier.html#o0">_roots</a>.push_back(newRoot);
00028     }
00029   }
00030 
<a name="l00031"></a><a class="code" href="classApplySingleCopier.html#a1">00031</a>   <a class="code" href="classApplySingleCopier.html#a1">~ApplySingleCopier</a>() {
00032     <font class="keyword">delete</font> <a class="code" href="classApplySingleCopier.html#o1">_copier</a>;
00033   }
00034 
<a name="l00035"></a><a class="code" href="classApplySingleCopier.html#a2">00035</a>   std::vector&lt;indri::lang::Node*&gt;&amp; <a class="code" href="classApplySingleCopier.html#a2">roots</a>() {
00036     <font class="keywordflow">return</font> <a class="code" href="classApplySingleCopier.html#o0">_roots</a>;
00037   }
00038 };
00039 
00040 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T, <font class="keyword">class</font> NodeType = indri::lang::Node&gt;
<a name="l00041"></a><a class="code" href="classApplyCopiers.html">00041</a> <font class="keyword">class </font><a class="code" href="classApplyCopiers.html">ApplyCopiers</a> {
00042 <font class="keyword">private</font>:
<a name="l00043"></a><a class="code" href="classApplyCopiers.html#o0">00043</a>   std::vector&lt;indri::lang::Node*&gt; <a class="code" href="classApplyCopiers.html#o0">_roots</a>;
<a name="l00044"></a><a class="code" href="classApplyCopiers.html#o1">00044</a>   std::vector&lt;T*&gt; <a class="code" href="classApplyCopiers.html#o1">_copiers</a>;
00045 
00046 <font class="keyword">public</font>:
<a name="l00047"></a><a class="code" href="classApplyCopiers.html#a0">00047</a>   <a class="code" href="classApplyCopiers.html#a0">ApplyCopiers</a>( std::vector&lt;NodeType*&gt;&amp; previous ) {
00048     <font class="keywordflow">for</font>( size_t i=0; i&lt;previous.size(); i++ ) {
00049       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* root = previous[i];
00050       T* copier = <font class="keyword">new</font> T;
00051       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* newRoot = root-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>( *copier );
00052 
00053       <a class="code" href="classApplyCopiers.html#o0">_roots</a>.push_back(newRoot);
00054       <a class="code" href="classApplyCopiers.html#o1">_copiers</a>.push_back(copier);
00055     }
00056   }
00057 
<a name="l00058"></a><a class="code" href="classApplyCopiers.html#a1">00058</a>   <a class="code" href="classApplyCopiers.html#a0">ApplyCopiers</a>( std::vector&lt;NodeType*&gt;&amp; previous, <font class="keyword">class</font> <a class="code" href="classRepository.html">Repository</a>&amp; repository ) {
00059     <font class="keywordflow">for</font>( size_t i=0; i&lt;previous.size(); i++ ) {
00060       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* root = previous[i];
00061       T* copier = <font class="keyword">new</font> T( repository );
00062       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* newRoot = root-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>( *copier );
00063 
00064       <a class="code" href="classApplyCopiers.html#o0">_roots</a>.push_back(newRoot);
00065       <a class="code" href="classApplyCopiers.html#o1">_copiers</a>.push_back(copier);
00066     }
00067   }
00068 
<a name="l00069"></a><a class="code" href="classApplyCopiers.html#a2">00069</a>   <a class="code" href="classApplyCopiers.html#a0">ApplyCopiers</a>( std::vector&lt;NodeType*&gt;&amp; previous, <font class="keyword">class</font> <a class="code" href="classListCache.html">ListCache</a>&amp; listCache ) {
00070     <font class="keywordflow">for</font>( size_t i=0; i&lt;previous.size(); i++ ) {
00071       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* root = previous[i];
00072       T* copier = <font class="keyword">new</font> T( &amp;listCache );
00073       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* newRoot = root-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>( *copier );
00074 
00075       <a class="code" href="classApplyCopiers.html#o0">_roots</a>.push_back(newRoot);
00076       <a class="code" href="classApplyCopiers.html#o1">_copiers</a>.push_back(copier);
00077     }
00078   }
00079 
<a name="l00080"></a><a class="code" href="classApplyCopiers.html#a3">00080</a>   <a class="code" href="classApplyCopiers.html#a0">ApplyCopiers</a>( std::vector&lt;NodeType*&gt;&amp; previous, <font class="keyword">class</font> <a class="code" href="classRepository.html">Repository</a>&amp; repository, <font class="keyword">class</font> <a class="code" href="classListCache.html">ListCache</a>&amp; listCache ) {
00081     <font class="keywordflow">for</font>( size_t i=0; i&lt;previous.size(); i++ ) {
00082       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* root = previous[i];
00083       T* copier = <font class="keyword">new</font> T( repository, listCache );
00084       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* newRoot = root-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>( *copier );
00085 
00086       <a class="code" href="classApplyCopiers.html#o0">_roots</a>.push_back(newRoot);
00087       <a class="code" href="classApplyCopiers.html#o1">_copiers</a>.push_back(copier);
00088     }
00089   }
00090 
<a name="l00091"></a><a class="code" href="classApplyCopiers.html#a4">00091</a>   <a class="code" href="classApplyCopiers.html#a4">~ApplyCopiers</a>() {
00092     <a class="code" href="delete__range_8hpp.html#a0">delete_vector_contents</a>( <a class="code" href="classApplyCopiers.html#o1">_copiers</a> );
00093   }
00094 
<a name="l00095"></a><a class="code" href="classApplyCopiers.html#a5">00095</a>   std::vector&lt;indri::lang::Node*&gt;&amp; <a class="code" href="classApplyCopiers.html#a5">roots</a>() {
00096     <font class="keywordflow">return</font> <a class="code" href="classApplyCopiers.html#o0">_roots</a>;
00097   }
00098 };
00099 
00100 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T, <font class="keyword">class</font> NodeType=indri::lang::Node&gt;
<a name="l00101"></a><a class="code" href="classApplyWalker.html">00101</a> <font class="keyword">class </font><a class="code" href="classApplyWalker.html">ApplyWalker</a> {
00102 <font class="keyword">private</font>:
<a name="l00103"></a><a class="code" href="classApplyWalker.html#o0">00103</a>   T* <a class="code" href="classApplyWalker.html#o0">_walker</a>;
00104 
00105 <font class="keyword">public</font>:
<a name="l00106"></a><a class="code" href="classApplyWalker.html#a0">00106</a>   <a class="code" href="classApplyWalker.html#a0">ApplyWalker</a>( std::vector&lt;NodeType*&gt;&amp; roots, T* walker ) {
00107     <a class="code" href="classApplyWalker.html#o0">_walker</a> = walker;
00108     <font class="keywordflow">for</font>( <font class="keywordtype">int</font> i=0; i&lt;roots.size(); i++ )
00109       roots[i]-&gt;walk(*<a class="code" href="classApplyWalker.html#o0">_walker</a>);
00110   }
00111 
<a name="l00112"></a><a class="code" href="classApplyWalker.html#a1">00112</a>   T&amp; <a class="code" href="classApplyWalker.html#a1">get</a>() {
00113     <font class="keywordflow">return</font> <a class="code" href="classApplyWalker.html#o0">_walker</a>;
00114   }
00115 };
00116 
00117 <font class="preprocessor">#endif // INDRI_APPLIERS_HPP</font>
00118 <font class="preprocessor"></font>
</pre></div><hr><address align="right"><small>Generated on Tue Nov 16 15:17:19 2004 for INDRI by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.16 </small></address>
</body>
</html>
