<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QuerySpec.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>QuerySpec.hpp</h1><a href="QuerySpec_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*==========================================================================</font>
00002 <font class="comment">  Copyright (c) 2004 University of Massachusetts.  All Rights Reserved.</font>
00003 <font class="comment"></font>
00004 <font class="comment">  Use of the Lemur Toolkit for Language Modeling and Information Retrieval</font>
00005 <font class="comment">  is subject to the terms of the software license set forth in the LICENSE</font>
00006 <font class="comment">  file included with this software, and also available at</font>
00007 <font class="comment">  http://www.cs.cmu.edu/~lemur/license.html </font>
00008 <font class="comment">  as well as the conditions below.</font>
00009 <font class="comment"></font>
00010 <font class="comment">  Redistribution and use in source and binary forms, with or without</font>
00011 <font class="comment">  modification, are permitted provided that the following conditions</font>
00012 <font class="comment">  are met:</font>
00013 <font class="comment"></font>
00014 <font class="comment">  1. Redistributions of source code must retain the above copyright</font>
00015 <font class="comment">  notice, this list of conditions and the following disclaimer.</font>
00016 <font class="comment"></font>
00017 <font class="comment">  2. Redistributions in binary form must reproduce the above copyright</font>
00018 <font class="comment">  notice, this list of conditions and the following disclaimer in</font>
00019 <font class="comment">  the documentation and/or other materials provided with the</font>
00020 <font class="comment">  distribution.</font>
00021 <font class="comment"></font>
00022 <font class="comment">  3. The names "Indri", "Center for Intelligent Information Retrieval", </font>
00023 <font class="comment">  "CIIR", and "University of Massachusetts" must not be used to</font>
00024 <font class="comment">  endorse or promote products derived from this software without</font>
00025 <font class="comment">  prior written permission. To obtain permission, contact</font>
00026 <font class="comment">  indri-info@ciir.cs.umass.edu.</font>
00027 <font class="comment"></font>
00028 <font class="comment">  4. Products derived from this software may not be called "Indri" nor </font>
00029 <font class="comment">  may "Indri" appear in their names without prior written permission of </font>
00030 <font class="comment">  the University of Massachusetts. To obtain permission, contact </font>
00031 <font class="comment">  indri-info@ciir.cs.umass.edu.</font>
00032 <font class="comment"></font>
00033 <font class="comment">  THIS SOFTWARE IS PROVIDED BY THE UNIVERSITY OF MASSACHUSETTS AND OTHER</font>
00034 <font class="comment">  CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,</font>
00035 <font class="comment">  BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND</font>
00036 <font class="comment">  FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL</font>
00037 <font class="comment">  THE COPYRIGHT HOLDERS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</font>
00038 <font class="comment">  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</font>
00039 <font class="comment">  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS</font>
00040 <font class="comment">  OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</font>
00041 <font class="comment">  AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR</font>
00042 <font class="comment">  TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF</font>
00043 <font class="comment">  THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</font>
00044 <font class="comment">  DAMAGE.</font>
00045 <font class="comment">  ==========================================================================</font>
00046 <font class="comment">*/</font>
00047 
00048 
00049 <font class="preprocessor">#ifndef INDRI_QUERYSPEC_HPP</font>
00050 <font class="preprocessor"></font><font class="preprocessor">#define INDRI_QUERYSPEC_HPP</font>
00051 <font class="preprocessor"></font>
00052 <font class="preprocessor">#include &lt;vector&gt;</font>
00053 <font class="preprocessor">#include &lt;string&gt;</font>
00054 <font class="preprocessor">#include &lt;sstream&gt;</font>
00055 <font class="preprocessor">#include &lt;indri/greedy_vector&gt;</font>
00056 <font class="preprocessor">#include &lt;algorithm&gt;</font>
00057 <font class="preprocessor">#include "lemur/lemur-platform.h"</font>
00058 
00059 <font class="preprocessor">#include "<a class="code" href="Walker_8hpp.html">indri/Walker.hpp</a>"</font>
00060 <font class="preprocessor">#include "<a class="code" href="Copier_8hpp.html">indri/Copier.hpp</a>"</font>
00061 <font class="preprocessor">#include "<a class="code" href="Packer_8hpp.html">indri/Packer.hpp</a>"</font>
00062 <font class="preprocessor">#include "<a class="code" href="Unpacker_8hpp.html">indri/Unpacker.hpp</a>"</font>
00063 
00064 <font class="preprocessor">#include "lemur/Exception.hpp"</font>
00065 
00066 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
<a name="l00067"></a><a class="code" href="QuerySpec_8hpp.html#a0">00067</a> <font class="keywordtype">bool</font> <a class="code" href="QuerySpec_8hpp.html#a0">equal</a>( <font class="keyword">const</font> std::vector&lt;T&gt;&amp; one, <font class="keyword">const</font> std::vector&lt;T&gt;&amp; two ) {
00068   <font class="keywordflow">if</font>( one.size() != two.size() )
00069     <font class="keywordflow">return</font> <font class="keyword">false</font>;
00070 
00071   <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;one.size(); i++ ) {
00072     <font class="keywordflow">if</font>( *one[i] == *two[i] )
00073       <font class="keywordflow">continue</font>;
00074 
00075     <font class="keywordflow">return</font> <font class="keyword">false</font>;
00076   }
00077 
00078   <font class="keywordflow">return</font> <font class="keyword">true</font>;
00079 }
00080 
00081 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
<a name="l00082"></a><a class="code" href="QuerySpec_8hpp.html#a1">00082</a> <font class="keywordtype">bool</font> <a class="code" href="QuerySpec_8hpp.html#a1">unordered_equal</a>( std::vector&lt;T&gt;&amp; one, std::vector&lt;T&gt;&amp; two ) {
00083   <font class="keywordflow">if</font>( one.size() != two.size() )
00084     <font class="keywordflow">return</font> <font class="keyword">false</font>;
00085 
00086   std::vector&lt;T&gt; one_copy;
00087   <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;one.size(); i++ ) {
00088     one_copy.push_back( one[i] );
00089   }
00090 
00091   <font class="comment">// this algorithm is n^2 as opposed to n log n if</font>
00092   <font class="comment">// we sorted things, but windows tend to be short</font>
00093   <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;two.size(); i++ ) {
00094     <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> j=0; j&lt;one_copy.size(); j++ ) {
00095       <font class="keywordflow">if</font>( *one_copy[j] == *two[i] ) {
00096         <font class="comment">// we remove each match--if they all match, the array will be empty</font>
00097         one_copy.erase( one_copy.begin() + j );
00098         <font class="keywordflow">break</font>;
00099       }
00100     }
00101   }
00102 
00103   <font class="keywordflow">return</font> one_copy.size() == 0;
00104 }
00105 
00106 <font class="keyword">namespace </font>indri {
00107   <font class="keyword">namespace </font>lang {
<a name="l00108"></a><a class="code" href="classindri_1_1lang_1_1Node.html">00108</a>     <font class="comment">/* abstract */</font> <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {
00109     <font class="keyword">protected</font>:
<a name="l00110"></a><a class="code" href="classindri_1_1lang_1_1Node.html#n0">00110</a>       std::string <a class="code" href="classindri_1_1lang_1_1Node.html#n0">_name</a>;
00111 
00112     <font class="keyword">public</font>:
<a name="l00113"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a0">00113</a>       <a class="code" href="classindri_1_1lang_1_1Node.html#a0">Node</a>() {
00114         std::stringstream s;
00115         s &lt;&lt; PTR_TO_INT(<font class="keyword">this</font>);
00116         <a class="code" href="classindri_1_1lang_1_1Node.html#n0">_name</a> = s.str();
00117       }
00118 
<a name="l00119"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a1">00119</a>       <font class="keyword">virtual</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a1">~Node</a>() {
00120       }
00121       
<a name="l00122"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a2">00122</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <font class="keyword">const</font> std::string&amp; name ) {
00123         <a class="code" href="classindri_1_1lang_1_1Node.html#n0">_name</a> = name;
00124       }
00125 
<a name="l00126"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a3">00126</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>()<font class="keyword"> const </font>{
00127         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1Node.html#n0">_name</a>;
00128       }
00129 
<a name="l00130"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a4">00130</a>       <font class="keyword">virtual</font> std::string <a class="code" href="classindri_1_1lang_1_1Node.html#a4">typeName</a>()<font class="keyword"> const </font>{
00131         <font class="keywordflow">return</font> <font class="stringliteral">"Node"</font>;
00132       }
00133 
00134       <font class="keyword">virtual</font> std::string <a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() <font class="keyword">const</font> = 0;
00135 
<a name="l00136"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a6">00136</a>       <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a6">operator &lt; </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; other ) {
00137         <font class="comment">// TODO: make this faster</font>
00138         <font class="keywordflow">if</font>( <a class="code" href="classindri_1_1lang_1_1Node.html#a4">typeName</a>() != other.<a class="code" href="classindri_1_1lang_1_1Node.html#a4">typeName</a>() )
00139           <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a4">typeName</a>() &lt; other.<a class="code" href="classindri_1_1lang_1_1Node.html#a4">typeName</a>();
00140 
00141         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt; other.<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
00142       }
00143      
<a name="l00144"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a7">00144</a>       <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a7">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; other ) {
00145         <font class="keywordflow">return</font> &amp;other == <font class="keyword">this</font>; 
00146       }
00147       
00148       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a8">pack</a>( Packer&amp; packer ) = 0;
00149       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>( Walker&amp; walker ) = 0;
00150       <font class="keyword">virtual</font> <a class="code" href="classindri_1_1lang_1_1Node.html#a0">Node</a>* <a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>( Copier&amp; copier ) = 0;
00151     };
00152 
<a name="l00153"></a><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">00153</a>     <font class="comment">/* abstract */</font> <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {};
<a name="l00154"></a><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">00154</a>     <font class="comment">/* abstract */</font> <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {};
<a name="l00155"></a><a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">00155</a>     <font class="comment">/* abstract */</font> <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {};
00156     
<a name="l00157"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html">00157</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00158     <font class="keyword">private</font>:
<a name="l00159"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">00159</a>       std::string <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a>;
<a name="l00160"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">00160</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">_stemmed</a>;
00161 
00162     <font class="keyword">public</font>:
<a name="l00163"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a0">00163</a>       <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a0">IndexTerm</a>( <font class="keyword">const</font> std::string&amp; text, <font class="keywordtype">bool</font> stemmed = <font class="keyword">false</font> ) : <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a>(text), <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">_stemmed</a>(stemmed)
00164       {
00165       }
00166 
<a name="l00167"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a1">00167</a>       <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a0">IndexTerm</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00168         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a2">getString</a>( <font class="stringliteral">"termName"</font> );
00169         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">_stemmed</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a11">getBoolean</a>( <font class="stringliteral">"stemmed"</font> );
00170       }
00171 
<a name="l00172"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a2">00172</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a2">getText</a>() { <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a>; }
00173 
<a name="l00174"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3">00174</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3">operator==</a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00175         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a>* other = dynamic_cast&lt;IndexTerm*&gt;(&amp;node);
00176 
00177         <font class="keywordflow">if</font>( !other )
00178           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00179 
00180         <font class="keywordflow">if</font>( other == <font class="keyword">this</font> )
00181           <font class="keywordflow">return</font> <font class="keyword">true</font>;
00182         
00183         <font class="keywordflow">return</font> other-&gt;<a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a> == <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a>;
00184       }
00185 
<a name="l00186"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a4">00186</a>       std::string <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a4">typeName</a>()<font class="keyword"> const </font>{
00187         <font class="keywordflow">return</font> <font class="stringliteral">"IndexTerm"</font>;
00188       }
00189 
<a name="l00190"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a5">00190</a>       std::string <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a5">queryText</a>()<font class="keyword"> const </font>{
00191         std::stringstream qtext;
00192 
00193         <font class="keywordflow">if</font>( _stemmed ) {
00194           qtext &lt;&lt; <font class="charliteral">'"'</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a> &lt;&lt; <font class="charliteral">'"'</font>;
00195         } <font class="keywordflow">else</font> {
00196           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a>;
00197         }
00198 
00199         <font class="keywordflow">return</font> qtext.str();
00200       }
00201 
<a name="l00202"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a6">00202</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a6">setStemmed</a>(<font class="keywordtype">bool</font> stemmed) {
00203         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">_stemmed</a> = stemmed;
00204       }
00205 
<a name="l00206"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a7">00206</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a7">getStemmed</a>()<font class="keyword"> const </font>{
00207         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">_stemmed</a>;
00208       }
00209 
<a name="l00210"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a8">00210</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00211         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00212         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"termName"</font>, <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o0">_text</a> );
00213         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"stemmed"</font>, <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#o1">_stemmed</a> );
00214         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00215       }
00216 
<a name="l00217"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a9">00217</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00218         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00219         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00220       }
00221 
<a name="l00222"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a10">00222</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a10">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00223         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00224         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a>* termCopy = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a0">IndexTerm</a>(*<font class="keyword">this</font>);
00225         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, termCopy);
00226       }
00227     };
00228 
<a name="l00229"></a><a class="code" href="classindri_1_1lang_1_1Field.html">00229</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1Field.html">Field</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00230     <font class="keyword">private</font>:
<a name="l00231"></a><a class="code" href="classindri_1_1lang_1_1Field.html#o0">00231</a>       std::string <a class="code" href="classindri_1_1lang_1_1Field.html#o0">_fieldName</a>;
00232 
00233     <font class="keyword">public</font>:
<a name="l00234"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a0">00234</a>       <a class="code" href="classindri_1_1lang_1_1Field.html#a0">Field</a>( <font class="keyword">const</font> std::string&amp; name ) : <a class="code" href="classindri_1_1lang_1_1Field.html#o0">_fieldName</a>(name)
00235       {
00236       }
00237 
<a name="l00238"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a1">00238</a>       <a class="code" href="classindri_1_1lang_1_1Field.html#a0">Field</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00239         <a class="code" href="classindri_1_1lang_1_1Field.html#o0">_fieldName</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a2">getString</a>( <font class="stringliteral">"fieldName"</font> );
00240       }
00241 
<a name="l00242"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a2">00242</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1Field.html#a2">getFieldName</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1Field.html#o0">_fieldName</a>; }
00243 
<a name="l00244"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a3">00244</a>       std::string <a class="code" href="classindri_1_1lang_1_1Field.html#a3">typeName</a>()<font class="keyword"> const </font>{
00245         <font class="keywordflow">return</font> <font class="stringliteral">"Field"</font>;
00246       }
00247 
<a name="l00248"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a4">00248</a>       std::string <a class="code" href="classindri_1_1lang_1_1Field.html#a4">queryText</a>()<font class="keyword"> const </font>{
00249         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1Field.html#o0">_fieldName</a>;
00250       }
00251 
<a name="l00252"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a5">00252</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1Field.html#a5">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00253         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00254         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"fieldName"</font>, <a class="code" href="classindri_1_1lang_1_1Field.html#o0">_fieldName</a> );
00255         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00256       }
00257       
<a name="l00258"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a6">00258</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1Field.html#a6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00259         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00260         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00261       }
00262 
<a name="l00263"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a7">00263</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1Field.html#a7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00264         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00265         <a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>* newField = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1Field.html#a0">Field</a>(*<font class="keyword">this</font>);
00266         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, newField);
00267       }
00268 
<a name="l00269"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a8">00269</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1Field.html#a8">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; other ) {
00270         <a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>* otherField = dynamic_cast&lt;Field*&gt;(&amp;other);
00271 
00272         <font class="keywordflow">if</font>( !otherField )
00273           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00274 
00275         <font class="keywordflow">return</font> otherField-&gt;<a class="code" href="classindri_1_1lang_1_1Field.html#a2">getFieldName</a>() == <a class="code" href="classindri_1_1lang_1_1Field.html#a2">getFieldName</a>();
00276       }
00277     };
00278 
<a name="l00279"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html">00279</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00280     <font class="keyword">private</font>:
<a name="l00281"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#o0">00281</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#o0">_inner</a>;
<a name="l00282"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#o1">00282</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#o1">_outer</a>;
00283 
00284     <font class="keyword">public</font>:
<a name="l00285"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0">00285</a>       <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0">ExtentInside</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* inner, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* outer ) :
00286         _inner(inner),
00287         _outer(outer)
00288       {
00289       }
00290 
<a name="l00291"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a1">00291</a>       <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0">ExtentInside</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00292         _inner = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"inner"</font> );
00293         _outer = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"outer"</font> );
00294       }
00295 
<a name="l00296"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a2">00296</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a2">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
00297         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>* other = dynamic_cast&lt;ExtentInside*&gt;(&amp;o);
00298   
00299         <font class="keywordflow">return</font> other &amp;&amp;
00300                *_inner == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#o0">_inner</a> &amp;&amp;
00301                *_outer == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#o1">_outer</a>;
00302       }
00303       
<a name="l00304"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a3">00304</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a3">typeName</a>()<font class="keyword"> const </font>{
00305         <font class="keywordflow">return</font> <font class="stringliteral">"ExtentInside"</font>;
00306       }
00307 
<a name="l00308"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a4">00308</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a4">queryText</a>()<font class="keyword"> const </font>{
00309         std::stringstream qtext;
00310         qtext &lt;&lt; _inner-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
00311               &lt;&lt; <font class="stringliteral">"."</font>
00312               &lt;&lt; _outer-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
00313 
00314         <font class="keywordflow">return</font> qtext.str();
00315       }
00316 
<a name="l00317"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a5">00317</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a5">getInner</a>() {
00318         <font class="keywordflow">return</font> _inner;
00319       }
00320 
<a name="l00321"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a6">00321</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a6">getOuter</a>() {
00322         <font class="keywordflow">return</font> _outer;
00323       }
00324 
<a name="l00325"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a7">00325</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a7">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00326         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00327         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"inner"</font>, _inner );
00328         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"outer"</font>, _outer );
00329         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00330       }
00331 
<a name="l00332"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a8">00332</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00333         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00334         _inner-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00335         _outer-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00336         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00337       }
00338 
<a name="l00339"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a9">00339</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a9">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00340         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00341         
00342         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newInner = dynamic_cast&lt;RawExtentNode*&gt;(_inner-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00343         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newOuter = dynamic_cast&lt;RawExtentNode*&gt;(_outer-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00344         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>* extentInsideCopy = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0">ExtentInside</a>( newInner, newOuter );
00345         extentInsideCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
00346 
00347         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, extentInsideCopy);
00348       }
00349     };
00350 
<a name="l00351"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html">00351</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00352     <font class="keyword">private</font>:
<a name="l00353"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">00353</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>;
00354 
00355     <font class="keyword">public</font>:
<a name="l00356"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a0">00356</a>       <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a0">ExtentOr</a>() {}
<a name="l00357"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a1">00357</a>       <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a0">ExtentOr</a>( <font class="keyword">const</font> std::vector&lt;RawExtentNode*&gt;&amp; children ) :
00358         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>(children)
00359       {
00360       }
00361 
<a name="l00362"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a2">00362</a>       <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a0">ExtentOr</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00363         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6">getRawExtentVector</a>( <font class="stringliteral">"children"</font> );
00364       } 
00365 
<a name="l00366"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3">00366</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3">typeName</a>()<font class="keyword"> const </font>{
00367         <font class="keywordflow">return</font> <font class="stringliteral">"ExtentOr"</font>;
00368       }
00369 
<a name="l00370"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a4">00370</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a4">queryText</a>()<font class="keyword"> const </font>{
00371         std::stringstream qtext;
00372 
00373         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>.size(); i++ ) {
00374           <font class="keywordflow">if</font>(i&gt;0) qtext &lt;&lt; <font class="stringliteral">" "</font>;
00375           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>[i]-&gt;queryText();
00376         }
00377 
00378         <font class="keywordflow">return</font> qtext.str();
00379       }
00380 
<a name="l00381"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a5">00381</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a5">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
00382         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>.push_back(node);
00383       }
00384 
<a name="l00385"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a6">00385</a>       std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a6">getChildren</a>() {
00386         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>;
00387       }
00388 
<a name="l00389"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a7">00389</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a7">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00390         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a>* other = dynamic_cast&lt;ExtentOr*&gt;(&amp;node);
00391 
00392         <font class="keywordflow">if</font>( other == <font class="keyword">this</font> )
00393           <font class="keywordflow">return</font> <font class="keyword">true</font>;
00394 
00395         <font class="keywordflow">if</font>( !other )
00396           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00397 
00398         <font class="keywordflow">return</font> <a class="code" href="QuerySpec_8hpp.html#a1">unordered_equal</a>( other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>, <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a> );
00399       }
00400 
<a name="l00401"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a8">00401</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00402         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00403         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"children"</font>, <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a> );
00404         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00405       }
00406 
<a name="l00407"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a9">00407</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00408         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00409         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>.size(); i++ ) {
00410           <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>[i]-&gt;walk(walker);
00411         }
00412         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00413       }
00414 
<a name="l00415"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a10">00415</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a10">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00416         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00417         
00418         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a0">ExtentOr</a>();
00419         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
00420         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>.size(); i++ ) {
00421           <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* childNode = <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#o0">_children</a>[i]-&gt;copy(copier);
00422           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a5">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(childNode) );
00423         }
00424 
00425         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00426       }
00427     };
00428 
<a name="l00429"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">00429</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00430     <font class="keyword">private</font>:
<a name="l00431"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">00431</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>;
00432 
00433     <font class="keyword">public</font>:
<a name="l00434"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a0">00434</a>       <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a0">ExtentAnd</a>() {}
<a name="l00435"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a1">00435</a>       <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a0">ExtentAnd</a>( <font class="keyword">const</font> std::vector&lt;RawExtentNode*&gt;&amp; children ) :
00436         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>(children)
00437       {
00438       }
00439 
<a name="l00440"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a2">00440</a>       <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a0">ExtentAnd</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00441         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6">getRawExtentVector</a>( <font class="stringliteral">"children"</font> );
00442       }
00443 
<a name="l00444"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a3">00444</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a3">typeName</a>()<font class="keyword"> const </font>{
00445         <font class="keywordflow">return</font> <font class="stringliteral">"ExtentAnd"</font>;
00446       }
00447 
<a name="l00448"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a4">00448</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a4">queryText</a>()<font class="keyword"> const </font>{
00449         std::stringstream qtext;
00450 
00451         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>.size(); i++ ) {
00452           <font class="keywordflow">if</font>(i&gt;0) qtext &lt;&lt; <font class="stringliteral">","</font>;
00453           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>[i]-&gt;queryText();
00454         }
00455 
00456         <font class="keywordflow">return</font> qtext.str();
00457       }
00458 
<a name="l00459"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a5">00459</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a5">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
00460         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>.push_back(node);
00461       }
00462 
<a name="l00463"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6">00463</a>       std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6">getChildren</a>() {
00464         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>;
00465       }
00466 
<a name="l00467"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a7">00467</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a7">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00468         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a>* other = dynamic_cast&lt;ExtentAnd*&gt;(&amp;node);
00469 
00470         <font class="keywordflow">if</font>( other == <font class="keyword">this</font> )
00471           <font class="keywordflow">return</font> <font class="keyword">true</font>;
00472 
00473         <font class="keywordflow">if</font>( !other )
00474           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00475 
00476         <font class="keywordflow">return</font> <a class="code" href="QuerySpec_8hpp.html#a1">unordered_equal</a>( other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>, <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a> );
00477       }
00478 
<a name="l00479"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a8">00479</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00480         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00481         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"children"</font>, <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a> );
00482         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00483       }
00484 
<a name="l00485"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a9">00485</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00486         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00487         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>.size(); i++ ) {
00488           <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>[i]-&gt;walk(walker);
00489         }
00490         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00491       }
00492 
<a name="l00493"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a10">00493</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a10">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00494         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00495 
00496         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a0">ExtentAnd</a>();
00497         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
00498         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>.size(); i++ ) {
00499           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#o0">_children</a>[i]-&gt;copy(copier);
00500           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a5">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
00501         }
00502 
00503         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00504       }
00505     };
00506 
<a name="l00507"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html">00507</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00508     <font class="keyword">private</font>:
<a name="l00509"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">00509</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>;
<a name="l00510"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">00510</a>       <font class="keywordtype">int</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a>;
00511 
00512     <font class="keyword">public</font>:
<a name="l00513"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a0">00513</a>       <a class="code" href="classindri_1_1lang_1_1UWNode.html#a0">UWNode</a>() :
00514         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a>(-1) <font class="comment">// default is unlimited window size</font>
00515       {
00516       }
00517 
<a name="l00518"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a1">00518</a>       <a class="code" href="classindri_1_1lang_1_1UWNode.html#a0">UWNode</a>( <font class="keywordtype">int</font> windowSize, std::vector&lt;RawExtentNode*&gt;&amp; children ) :
00519         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a>(windowSize),
00520         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>(children)
00521       {
00522       }
00523 
<a name="l00524"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a2">00524</a>       <a class="code" href="classindri_1_1lang_1_1UWNode.html#a0">UWNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00525         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> = (int) unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"windowSize"</font> );
00526         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6">getRawExtentVector</a>( <font class="stringliteral">"children"</font> );
00527       }
00528 
<a name="l00529"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a3">00529</a>       std::string <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3">typeName</a>()<font class="keyword"> const </font>{
00530         <font class="keywordflow">return</font> <font class="stringliteral">"UWNode"</font>;
00531       }
00532 
<a name="l00533"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a4">00533</a>       std::string <a class="code" href="classindri_1_1lang_1_1UWNode.html#a4">queryText</a>()<font class="keyword"> const </font>{
00534         std::stringstream qtext;
00535         
00536         <font class="keywordflow">if</font>( <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> &gt;= 0 )
00537           qtext &lt;&lt; <font class="stringliteral">"#uw"</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> &lt;&lt; <font class="stringliteral">"( "</font>;
00538         <font class="keywordflow">else</font>
00539           qtext &lt;&lt; <font class="stringliteral">"#uw( "</font>;
00540           
00541         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>.size(); i++ ) {
00542           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>[i]-&gt;queryText() &lt;&lt; <font class="stringliteral">" "</font>;
00543         }
00544         qtext &lt;&lt; <font class="stringliteral">")"</font>;
00545         <font class="keywordflow">return</font> qtext.str();
00546       }
00547 
<a name="l00548"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a5">00548</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a5">setWindowSize</a>( <font class="keywordtype">int</font> windowSize ) {
00549         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> = windowSize;
00550       }
00551 
<a name="l00552"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a6">00552</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a5">setWindowSize</a>( <font class="keyword">const</font> std::string&amp; windowSize ) {
00553         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a5">setWindowSize</a>( atoi( windowSize.c_str() ) );
00554       }
00555 
<a name="l00556"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a7">00556</a>       <font class="keywordtype">int</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a7">getWindowSize</a>()<font class="keyword"> const </font>{
00557         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a>;
00558       }
00559 
<a name="l00560"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a8">00560</a>       <font class="keyword">const</font> std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1UWNode.html#a8">getChildren</a>()<font class="keyword"> const </font>{
00561         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>;
00562       }
00563 
<a name="l00564"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a9">00564</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a9">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
00565         <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>.push_back( node );
00566       }
00567 
<a name="l00568"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a10">00568</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a10">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00569         <a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a>* other = dynamic_cast&lt;UWNode*&gt;(&amp;node);
00570 
00571         <font class="keywordflow">if</font>( !other )
00572           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00573 
00574         <font class="keywordflow">if</font>( other == <font class="keyword">this</font> )
00575           <font class="keywordflow">return</font> <font class="keyword">true</font>;
00576 
00577         <font class="keywordflow">if</font>( other-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> != <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> ) {
00578           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00579         }
00580 
00581         <font class="keywordflow">return</font> <a class="code" href="QuerySpec_8hpp.html#a1">unordered_equal</a>( <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>, other-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a> );
00582       }
00583 
<a name="l00584"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a11">00584</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a11">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00585         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00586         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"windowSize"</font>, <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> );
00587         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"children"</font>, <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a> );
00588         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00589       }
00590 
<a name="l00591"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a12">00591</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a12">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00592         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00593         <font class="keywordflow">for</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>.size(); i++) {
00594           <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>[i]-&gt;walk(walker);
00595         }
00596         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00597       }
00598 
<a name="l00599"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a13">00599</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1UWNode.html#a13">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00600         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00601         
00602         <a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a0">UWNode</a>();
00603         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
00604         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a5">setWindowSize</a>( <a class="code" href="classindri_1_1lang_1_1UWNode.html#o1">_windowSize</a> );
00605         <font class="keywordflow">for</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>.size(); i++) {
00606           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1UWNode.html#o0">_children</a>[i]-&gt;copy(copier);
00607           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a9">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
00608         }
00609 
00610         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00611       }
00612     };
00613 
<a name="l00614"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html">00614</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00615     <font class="keyword">private</font>:
<a name="l00616"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">00616</a>       <font class="keywordtype">int</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a>;
<a name="l00617"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">00617</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>;
00618 
00619     <font class="keyword">public</font>:
<a name="l00620"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a0">00620</a>       <a class="code" href="classindri_1_1lang_1_1ODNode.html#a1">ODNode</a>( <font class="keywordtype">int</font> windowSize, std::vector&lt;RawExtentNode*&gt;&amp; children ) :
00621         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a>(windowSize),
00622         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>(children)
00623       {
00624       }
00625 
<a name="l00626"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a1">00626</a>       <a class="code" href="classindri_1_1lang_1_1ODNode.html#a1">ODNode</a>() :
00627         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a>(-1) <font class="comment">// default is unlimited window size</font>
00628       {
00629       }
00630 
<a name="l00631"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a2">00631</a>       <a class="code" href="classindri_1_1lang_1_1ODNode.html#a1">ODNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00632         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> = (int) unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"windowSize"</font> );
00633         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6">getRawExtentVector</a>( <font class="stringliteral">"children"</font> );
00634       }
00635 
<a name="l00636"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a3">00636</a>       std::string <a class="code" href="classindri_1_1lang_1_1ODNode.html#a3">typeName</a>()<font class="keyword"> const </font>{
00637         <font class="keywordflow">return</font> <font class="stringliteral">"ODNode"</font>;
00638       }
00639 
<a name="l00640"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a4">00640</a>       std::string <a class="code" href="classindri_1_1lang_1_1ODNode.html#a4">queryText</a>()<font class="keyword"> const </font>{
00641         std::stringstream qtext;
00642         <font class="keywordflow">if</font>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> &gt;= 0 )
00643           qtext &lt;&lt; <font class="stringliteral">"#"</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> &lt;&lt; <font class="stringliteral">"( "</font>;
00644         <font class="keywordflow">else</font>
00645           qtext &lt;&lt; <font class="stringliteral">"#od( "</font>;
00646 
00647         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>.size(); i++ ) {
00648           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>[i]-&gt;queryText() &lt;&lt; <font class="stringliteral">" "</font>;
00649         }
00650         qtext &lt;&lt; <font class="stringliteral">")"</font>;
00651         <font class="keywordflow">return</font> qtext.str();
00652       }
00653 
<a name="l00654"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a5">00654</a>       <font class="keyword">const</font> std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5">getChildren</a>()<font class="keyword"> const </font>{
00655         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>;
00656       }
00657 
<a name="l00658"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a6">00658</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a6">setWindowSize</a>( <font class="keywordtype">int</font> windowSize ) {
00659         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> = windowSize;
00660       }
00661 
<a name="l00662"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a7">00662</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a6">setWindowSize</a>( <font class="keyword">const</font> std::string&amp; windowSize ) {
00663         <a class="code" href="classindri_1_1lang_1_1ODNode.html#a6">setWindowSize</a>( atoi( windowSize.c_str() ) );
00664       }
00665 
<a name="l00666"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a8">00666</a>       <font class="keywordtype">int</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a8">getWindowSize</a>()<font class="keyword"> const </font>{
00667         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a>;
00668       }
00669 
<a name="l00670"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a9">00670</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a9">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
00671         <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>.push_back( node );
00672       }
00673 
<a name="l00674"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a10">00674</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a10">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00675         <a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a>* other = dynamic_cast&lt;ODNode*&gt;(&amp;node);
00676 
00677         <font class="keywordflow">if</font>( ! other )
00678           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00679 
00680         <font class="keywordflow">if</font>( other == <font class="keyword">this</font> )
00681           <font class="keywordflow">return</font> <font class="keyword">true</font>;
00682 
00683         <font class="keywordflow">if</font>( other-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> != <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> )
00684           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00685 
00686         <font class="keywordflow">if</font>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>.size() != other-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>.size() )
00687           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00688 
00689         <font class="keywordflow">return</font> <a class="code" href="QuerySpec_8hpp.html#a0">equal</a>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>, other-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a> );
00690       }
00691 
<a name="l00692"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a11">00692</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a11">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00693         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00694         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"windowSize"</font>, <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> );
00695         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"children"</font>, <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a> );
00696         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00697       }
00698 
<a name="l00699"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a12">00699</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a12">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00700         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00701         <font class="keywordflow">for</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>.size(); i++) {
00702           <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>[i]-&gt;walk(walker);
00703         }
00704         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00705       }
00706 
<a name="l00707"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a13">00707</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ODNode.html#a13">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00708         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00709         
00710         <a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a1">ODNode</a>();
00711         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a6">setWindowSize</a>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#o0">_windowSize</a> );
00712         <font class="keywordflow">for</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>.size(); i++) {
00713           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1ODNode.html#o1">_children</a>[i]-&gt;copy(copier);
00714           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a9">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
00715         }
00716 
00717         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00718       }
00719     };
00720 
<a name="l00721"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html">00721</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00722     <font class="keyword">private</font>:
<a name="l00723"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#o0">00723</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#o0">_filtered</a>;
<a name="l00724"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#o1">00724</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#o1">_required</a>;
00725 
00726     <font class="keyword">public</font>:
<a name="l00727"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a0">00727</a>       <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a0">FilReqNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filtered, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* required ) {
00728         _filtered = filtered;
00729         _required = required;
00730       }
00731 
<a name="l00732"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a1">00732</a>       <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a0">FilReqNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00733         _filtered = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"filtered"</font> );
00734         _required = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"required"</font> );
00735       }
00736 
<a name="l00737"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a2">00737</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
00738         <font class="keywordflow">return</font> <font class="stringliteral">"FilReqNode"</font>;
00739       }
00740 
<a name="l00741"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a3">00741</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
00742         std::stringstream qtext;
00743 
00744         qtext &lt;&lt; <font class="stringliteral">"#filreq("</font>
00745               &lt;&lt; _filtered-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
00746               &lt;&lt; <font class="stringliteral">" "</font>
00747               &lt;&lt; _required-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
00748               &lt;&lt; <font class="stringliteral">")"</font>;
00749         <font class="keywordflow">return</font> qtext.str();
00750       }
00751 
<a name="l00752"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a4">00752</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a4">getFiltered</a>() {
00753         <font class="keywordflow">return</font> _filtered;
00754       }
00755 
<a name="l00756"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5">00756</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5">getRequired</a>() {
00757         <font class="keywordflow">return</font> _required;
00758       }
00759 
<a name="l00760"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a6">00760</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00761         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a>* other = dynamic_cast&lt;FilReqNode*&gt;(&amp;node);
00762 
00763         <font class="keywordflow">if</font>( !other )
00764           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00765 
00766         <font class="keywordflow">return</font> (*_filtered) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a4">getFiltered</a>()) &amp;&amp;
00767                (*_required) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5">getRequired</a>());
00768       }
00769 
<a name="l00770"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a7">00770</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a7">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00771         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00772         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"filtered"</font>, _filtered);
00773         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"required"</font>, _required);
00774         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00775       }
00776 
<a name="l00777"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a8">00777</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00778         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00779         _filtered-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00780         _required-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00781         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00782       }
00783 
<a name="l00784"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a9">00784</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a9">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00785         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00786         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filteredDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_filtered-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00787         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* requiredDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_required-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00788         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a0">FilReqNode</a>( filteredDuplicate, requiredDuplicate );
00789         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00790       }
00791     };
00792 
<a name="l00793"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html">00793</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00794     <font class="keyword">private</font>:
<a name="l00795"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#o0">00795</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#o0">_filtered</a>;
<a name="l00796"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#o1">00796</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#o1">_disallowed</a>;
00797 
00798     <font class="keyword">public</font>:
<a name="l00799"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a0">00799</a>       <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a0">FilRejNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filtered, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* disallowed ) {
00800         _filtered = filtered;
00801         _disallowed = disallowed;
00802       }
00803 
<a name="l00804"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1">00804</a>       <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a0">FilRejNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00805         _filtered = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"filtered"</font> );
00806         _disallowed = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"disallowed"</font> );
00807       }
00808 
<a name="l00809"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2">00809</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
00810         <font class="keywordflow">return</font> <font class="stringliteral">"FilRejNode"</font>;
00811       }
00812 
<a name="l00813"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a3">00813</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
00814         std::stringstream qtext;
00815 
00816         qtext &lt;&lt; <font class="stringliteral">"#filrej("</font>
00817               &lt;&lt; _filtered-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
00818               &lt;&lt; <font class="stringliteral">" "</font>
00819               &lt;&lt; _disallowed-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
00820               &lt;&lt; <font class="stringliteral">")"</font>;
00821 
00822         <font class="keywordflow">return</font> qtext.str();
00823       }
00824 
<a name="l00825"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4">00825</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4">getFiltered</a>() {
00826         <font class="keywordflow">return</font> _filtered;
00827       }
00828 
<a name="l00829"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a5">00829</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a5">getDisallowed</a>() {
00830         <font class="keywordflow">return</font> _disallowed;
00831       }
00832 
<a name="l00833"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a6">00833</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00834         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a>* other = dynamic_cast&lt;FilRejNode*&gt;(&amp;node);
00835 
00836         <font class="keywordflow">if</font>( !other )
00837           <font class="keywordflow">return</font> <font class="keyword">false</font>;
00838 
00839         <font class="keywordflow">return</font> (*_filtered) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4">getFiltered</a>()) &amp;&amp;
00840                (*_disallowed) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a5">getDisallowed</a>());
00841       }
00842 
<a name="l00843"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a7">00843</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a7">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00844         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00845         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"filtered"</font>, _filtered);
00846         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"disallowed"</font>, _disallowed);
00847         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00848       }
00849 
<a name="l00850"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a8">00850</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00851         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00852         _filtered-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00853         _disallowed-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00854         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00855       }
00856 
<a name="l00857"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a9">00857</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a9">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00858         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00859         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filteredDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_filtered-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00860         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* disallowedDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_disallowed-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00861         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a0">FilRejNode</a>( filteredDuplicate, disallowedDuplicate );
00862         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00863       }
00864     };
00865 
<a name="l00866"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">00866</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00867     <font class="keyword">private</font>:
<a name="l00868"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o0">00868</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o0">_field</a>;
<a name="l00869"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">00869</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a>;
00870 
00871     <font class="keyword">public</font>:
<a name="l00872"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a0">00872</a>       <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a0">FieldLessNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 constant ) :
00873         _field(field),
00874         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a>(constant) {
00875       }
00876       
<a name="l00877"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a1">00877</a>       <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a0">FieldLessNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00878         _field = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"field"</font> );
00879         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>(<font class="stringliteral">"constant"</font>);
00880       }
00881 
<a name="l00882"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a2">00882</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
00883         <font class="keywordflow">return</font> <font class="stringliteral">"FieldLessNode"</font>;
00884       }
00885 
<a name="l00886"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a3">00886</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
00887         std::stringstream qtext;
00888         qtext &lt;&lt; <font class="stringliteral">"#less("</font> &lt;&lt; _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a> &lt;&lt; <font class="stringliteral">")"</font>;
00889         <font class="keywordflow">return</font> qtext.str();
00890       }
00891 
<a name="l00892"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a4">00892</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a4">getConstant</a>()<font class="keyword"> const </font>{
00893         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a>;
00894       }
00895 
<a name="l00896"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a5">00896</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a5">getField</a>() {
00897         <font class="keywordflow">return</font> _field;
00898       }
00899 
<a name="l00900"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a6">00900</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00901         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a>* other = dynamic_cast&lt;FieldLessNode*&gt;(&amp;node);
00902 
00903         <font class="keywordflow">return</font> other &amp;&amp;
00904                other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a4">getConstant</a>() == <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a> &amp;&amp;
00905                *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a5">getField</a>() == *_field;
00906       }
00907 
<a name="l00908"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a7">00908</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00909         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00910         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00911         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a0">FieldLessNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a> );
00912         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00913       }
00914 
<a name="l00915"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a8">00915</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00916         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00917         _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00918         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00919       }
00920 
<a name="l00921"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9">00921</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00922         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00923         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"field"</font>, _field);
00924         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"constant"</font>, <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#o1">_constant</a>);
00925         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00926       }
00927     };
00928 
<a name="l00929"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">00929</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00930     <font class="keyword">private</font>:
<a name="l00931"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o0">00931</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o0">_field</a>;
<a name="l00932"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">00932</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a>;
00933 
00934     <font class="keyword">public</font>:
<a name="l00935"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a0">00935</a>       <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a0">FieldGreaterNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 constant ) :
00936         _field(field),
00937         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a>(constant) {
00938       }
00939       
<a name="l00940"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a1">00940</a>       <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a0">FieldGreaterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
00941         _field = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"field"</font> );
00942         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>(<font class="stringliteral">"constant"</font>);
00943       }
00944 
<a name="l00945"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2">00945</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
00946         <font class="keywordflow">return</font> <font class="stringliteral">"FieldGreaterNode"</font>;
00947       }
00948 
<a name="l00949"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a3">00949</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
00950         std::stringstream qtext;
00951         qtext &lt;&lt; <font class="stringliteral">"#greater("</font> &lt;&lt; _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a> &lt;&lt; <font class="stringliteral">")"</font>;
00952         <font class="keywordflow">return</font> qtext.str();
00953       }
00954 
<a name="l00955"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a4">00955</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a4">getConstant</a>()<font class="keyword"> const </font>{
00956         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a>;
00957       }
00958 
<a name="l00959"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a5">00959</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a5">getField</a>() {
00960         <font class="keywordflow">return</font> _field;
00961       }
00962 
<a name="l00963"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a6">00963</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
00964         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a>* other = dynamic_cast&lt;FieldGreaterNode*&gt;(&amp;node);
00965 
00966         <font class="keywordflow">return</font> other &amp;&amp;
00967                other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a4">getConstant</a>() == <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a> &amp;&amp;
00968                *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a5">getField</a>() == *_field;
00969       }
00970 
<a name="l00971"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a7">00971</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
00972         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
00973         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
00974         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a0">FieldGreaterNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a> );
00975         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
00976       }
00977 
<a name="l00978"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a8">00978</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
00979         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
00980         _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
00981         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
00982       }
00983 
<a name="l00984"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9">00984</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
00985         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
00986         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"field"</font>, _field);
00987         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"constant"</font>, <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#o1">_constant</a>);
00988         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
00989       }
00990     };
00991 
<a name="l00992"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">00992</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
00993     <font class="keyword">private</font>:
<a name="l00994"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o0">00994</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o0">_field</a>;
<a name="l00995"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">00995</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a>;
<a name="l00996"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">00996</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a>;
00997 
00998     <font class="keyword">public</font>:
<a name="l00999"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a0">00999</a>       <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a0">FieldBetweenNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 low, INT64 high ) :
01000         _field(field),
01001         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a>(low),
01002         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a>(high) {
01003       }
01004       
<a name="l01005"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a1">01005</a>       <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a0">FieldBetweenNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01006         _field = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"field"</font> );
01007         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>(<font class="stringliteral">"low"</font>);
01008         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>(<font class="stringliteral">"high"</font>);
01009       }
01010 
<a name="l01011"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a2">01011</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01012         <font class="keywordflow">return</font> <font class="stringliteral">"FieldBetweenNode"</font>;
01013       }
01014 
<a name="l01015"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a3">01015</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01016         std::stringstream qtext;
01017         qtext &lt;&lt; <font class="stringliteral">"#between("</font> &lt;&lt; _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a> &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a> &lt;&lt; <font class="stringliteral">")"</font>;
01018         <font class="keywordflow">return</font> qtext.str();
01019       }
01020 
<a name="l01021"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a4">01021</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a4">getLow</a>()<font class="keyword"> const </font>{
01022         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a>;
01023       }
01024 
<a name="l01025"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a5">01025</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a5">getHigh</a>()<font class="keyword"> const </font>{
01026         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a>;
01027       }
01028 
<a name="l01029"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a6">01029</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a6">getField</a>() {
01030         <font class="keywordflow">return</font> _field;
01031       }
01032 
<a name="l01033"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a7">01033</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a7">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
01034         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a>* other = dynamic_cast&lt;FieldBetweenNode*&gt;(&amp;node);
01035 
01036         <font class="keywordflow">return</font> other &amp;&amp;
01037                other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a4">getLow</a>() == <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a> &amp;&amp;
01038                other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a5">getHigh</a>() == <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a> &amp;&amp;
01039                *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a6">getField</a>() == *_field;
01040       }
01041 
<a name="l01042"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8">01042</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01043         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
01044         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
01045         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a0">FieldBetweenNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a> );
01046         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
01047       }
01048 
<a name="l01049"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a9">01049</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01050         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01051         _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
01052         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01053       }
01054 
<a name="l01055"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a10">01055</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a10">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01056         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01057         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"field"</font>, _field);
01058         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"low"</font>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o1">_low</a>);
01059         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"high"</font>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#o2">_high</a>);
01060         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01061       }
01062     };
01063 
<a name="l01064"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">01064</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
01065     <font class="keyword">private</font>:
<a name="l01066"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o0">01066</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o0">_field</a>;
<a name="l01067"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">01067</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a>;
01068 
01069     <font class="keyword">public</font>:
<a name="l01070"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a0">01070</a>       <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a0">FieldEqualsNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 constant ) :
01071         _field(field),
01072         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a>(constant) {
01073       }
01074       
<a name="l01075"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a1">01075</a>       <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a0">FieldEqualsNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01076         _field = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>(<font class="stringliteral">"field"</font>);
01077         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>(<font class="stringliteral">"constant"</font>);
01078       }
01079 
<a name="l01080"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a2">01080</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01081         <font class="keywordflow">return</font> <font class="stringliteral">"FieldEqualsNode"</font>;
01082       }
01083 
<a name="l01084"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a3">01084</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01085         std::stringstream qtext;
01086         qtext &lt;&lt; <font class="stringliteral">"#equals("</font> &lt;&lt; _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a> &lt;&lt; <font class="stringliteral">")"</font>;
01087         <font class="keywordflow">return</font> qtext.str();
01088       }
01089 
<a name="l01090"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a4">01090</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a4">getConstant</a>()<font class="keyword"> const </font>{
01091         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a>;
01092       }
01093 
<a name="l01094"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a5">01094</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a5">getField</a>() {
01095         <font class="keywordflow">return</font> _field;
01096       }
01097 
<a name="l01098"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a6">01098</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
01099         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a>* other = dynamic_cast&lt;FieldEqualsNode*&gt;(&amp;node);
01100 
01101         <font class="keywordflow">return</font> other &amp;&amp;
01102                other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a4">getConstant</a>() == <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a> &amp;&amp;
01103                *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a5">getField</a>() == *_field;
01104       }
01105 
<a name="l01106"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a7">01106</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01107         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
01108         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = dynamic_cast&lt;RawExtentNode*&gt;(_field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
01109         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a0">FieldEqualsNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a> );
01110         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
01111       }
01112 
<a name="l01113"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a8">01113</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01114         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01115         _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
01116         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01117       }
01118 
<a name="l01119"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a9">01119</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a9">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01120         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01121         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"field"</font>, _field);
01122         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"constant"</font>, <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#o1">_constant</a>);
01123         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01124       }
01125     };
01126 
<a name="l01127"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">01127</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01128     <font class="keyword">private</font>:
<a name="l01129"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">01129</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a>; <font class="comment">// number of occurrences within this context</font>
<a name="l01130"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">01130</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a>; <font class="comment">// number of terms that occur within this context</font>
<a name="l01131"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">01131</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">_maximumContextLength</a>;
<a name="l01132"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">01132</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">_minimumContextLength</a>;
<a name="l01133"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">01133</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">_maximumOccurrences</a>;
<a name="l01134"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">01134</a>       <font class="keywordtype">double</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">_maximumContextFraction</a>;
01135 
<a name="l01136"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o6">01136</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o6">_raw</a>;
<a name="l01137"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o7">01137</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o7">_context</a>;
<a name="l01138"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">01138</a>       std::string <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">_smoothing</a>;
01139 
01140     <font class="keyword">public</font>:
<a name="l01141"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a0">01141</a>       <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a0">RawScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context, std::string smoothing = <font class="stringliteral">"method:dirichlet,mu:2500"</font> ) {
01142         _raw = raw;
01143         _context = context;
01144 
01145         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a> = 0;
01146         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a> = 0;
01147         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">_maximumContextLength</a> = MAX_INT32;
01148         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">_maximumOccurrences</a> = MAX_INT32;
01149         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">_minimumContextLength</a> = 1;
01150         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">_maximumContextFraction</a> = 1;
01151         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">_smoothing</a> = smoothing;
01152       }
01153 
<a name="l01154"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1">01154</a>       <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a0">RawScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01155         _raw = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"raw"</font> );
01156         _context = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"context"</font> );
01157 
01158         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"occurrences"</font> );
01159         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"contextSize"</font> );
01160         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">_maximumContextLength</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"maximumContextLength"</font> );
01161         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">_minimumContextLength</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"minimumContextLength"</font> );
01162         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">_maximumOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"maximumOccurrences"</font> );
01163         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">_maximumContextFraction</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a4">getDouble</a>( <font class="stringliteral">"maximumContextFraction"</font> );
01164         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a2">getString</a>( <font class="stringliteral">"smoothing"</font> );
01165       }
01166 
<a name="l01167"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2">01167</a>       std::string <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01168         <font class="keywordflow">return</font> <font class="stringliteral">"RawScorerNode"</font>;
01169       }
01170 
<a name="l01171"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a3">01171</a>       std::string <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01172         std::stringstream qtext;
01173         
01174         qtext &lt;&lt; _raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
01175         <font class="keywordflow">if</font>( _context ) {
01176           <font class="comment">// if we haven't added a period yet, put one in</font>
01177           <font class="keywordtype">int</font> dot = qtext.str().find(<font class="charliteral">'.'</font>);
01178           <font class="keywordflow">if</font>( dot &lt; 0 )
01179             qtext &lt;&lt; <font class="charliteral">'.'</font>;
01180 
01181           qtext &lt;&lt; <font class="stringliteral">"("</font> &lt;&lt; _context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">")"</font>;
01182         }
01183 
01184         <font class="keywordflow">return</font> qtext.str();
01185       }
01186 
<a name="l01187"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a4">01187</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a4">getOccurrences</a>()<font class="keyword"> const </font>{
01188         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a>;
01189       }
01190 
<a name="l01191"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a5">01191</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a5">getContextSize</a>()<font class="keyword"> const </font>{
01192         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a>;
01193       }
01194 
<a name="l01195"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a6">01195</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a6">getSmoothing</a>()<font class="keyword"> const </font>{
01196         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">_smoothing</a>;
01197       }
01198 
<a name="l01199"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7">01199</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7">getMaxContextLength</a>()<font class="keyword"> const </font>{
01200         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">_maximumContextLength</a>;
01201       }
01202 
<a name="l01203"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8">01203</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8">getMinContextLength</a>()<font class="keyword"> const </font>{
01204         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">_minimumContextLength</a>;
01205       }
01206 
<a name="l01207"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9">01207</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9">getMaxOccurrences</a>()<font class="keyword"> const </font>{
01208         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">_maximumOccurrences</a>;
01209       }
01210 
<a name="l01211"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a10">01211</a>       <font class="keywordtype">double</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a10">getMaxContextFraction</a>()<font class="keyword"> const </font>{
01212         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">_maximumContextFraction</a>;
01213       }
01214 
<a name="l01215"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a11">01215</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a11">setStatistics</a>( UINT64 occurrences, UINT64 contextSize ) {
01216         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a> = occurrences;
01217         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a> = contextSize;
01218       }
01219 
<a name="l01220"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a12">01220</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a11">setStatistics</a>( UINT64 occurrences, UINT64 contextSize,
01221                           UINT64 maxOccurrences, UINT64 minContextLength, UINT64 maxContextLength,
01222                           <font class="keywordtype">double</font> maxContextFraction ) {
01223         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a> = occurrences;
01224         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a> = contextSize;
01225 
01226         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">_maximumOccurrences</a> = maxOccurrences;
01227         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">_minimumContextLength</a> = minContextLength;
01228         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">_maximumContextLength</a> = maxContextLength;
01229         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">_maximumContextFraction</a> = maxContextFraction;
01230       }
01231 
<a name="l01232"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a13">01232</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a13">setContext</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context ) {
01233         _context = context;
01234       }
01235 
<a name="l01236"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a14">01236</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a14">setRawExtent</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* rawExtent ) {
01237         _raw = rawExtent;
01238       }
01239 
<a name="l01240"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a15">01240</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a15">setSmoothing</a>( <font class="keyword">const</font> std::string&amp; smoothing ) {
01241         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">_smoothing</a> = smoothing;
01242       }
01243 
<a name="l01244"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a16">01244</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a16">getContext</a>() {
01245         <font class="keywordflow">return</font> _context;
01246       }
01247 
<a name="l01248"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a17">01248</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a17">getRawExtent</a>() {
01249         <font class="keywordflow">return</font> _raw;
01250       }
01251 
<a name="l01252"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a18">01252</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a18">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01253         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01254         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"raw"</font>, _raw );
01255         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"context"</font>, _context );
01256 
01257         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"occurrences"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o0">_occurrences</a> );
01258         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"contextSize"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o1">_contextSize</a> );
01259         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"minimumContextLength"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o3">_minimumContextLength</a> );
01260         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumContextLength"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o2">_maximumContextLength</a> );
01261         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumOccurrences"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o4">_maximumOccurrences</a> );
01262         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumContextFraction"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o5">_maximumContextFraction</a> );
01263         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"smoothing"</font>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#o8">_smoothing</a> );
01264         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01265       }
01266 
<a name="l01267"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a19">01267</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a19">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01268         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01269         <font class="keywordflow">if</font>( _raw )
01270           _raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
01271         <font class="keywordflow">if</font>( _context )
01272           _context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
01273         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01274       }
01275 
<a name="l01276"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a20">01276</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a20">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01277         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
01278 
01279         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateContext = _context ? dynamic_cast&lt;RawExtentNode*&gt;(_context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier)) : 0;
01280         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateRaw = _raw ? dynamic_cast&lt;RawExtentNode*&gt;(_raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier)) : 0;
01281         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a0">RawScorerNode</a>(*<font class="keyword">this</font>);
01282         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a14">setRawExtent</a>( duplicateRaw );
01283         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a13">setContext</a>( duplicateContext );
01284 
01285         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
01286       }
01287     };
01288 
<a name="l01289"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html">01289</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html">TermFrequencyScorerNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01290     <font class="keyword">private</font>:
<a name="l01291"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">01291</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">_occurrences</a>; <font class="comment">// number of occurrences within this context</font>
<a name="l01292"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">01292</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">_contextSize</a>; <font class="comment">// number of terms that occur within this context</font>
<a name="l01293"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">01293</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">_maximumContextLength</a>;
<a name="l01294"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">01294</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">_minimumContextLength</a>;
<a name="l01295"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">01295</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">_maximumOccurrences</a>;
<a name="l01296"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">01296</a>       <font class="keywordtype">double</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">_maximumContextFraction</a>;
01297 
<a name="l01298"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">01298</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a>;
<a name="l01299"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">01299</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">_smoothing</a>;
<a name="l01300"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">01300</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">_stemmed</a>;
01301 
01302     <font class="keyword">public</font>:
<a name="l01303"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0">01303</a>       <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0">TermFrequencyScorerNode</a>( <font class="keyword">const</font> std::string&amp; text, <font class="keywordtype">bool</font> stemmed ) {
01304         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">_occurrences</a> = 0;
01305         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">_contextSize</a> = 0;
01306         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">_maximumContextLength</a> = MAX_INT32;
01307         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">_maximumOccurrences</a> = MAX_INT32;
01308         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">_minimumContextLength</a> = 1;
01309         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">_maximumContextFraction</a> = 1;
01310         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">_smoothing</a> = <font class="stringliteral">""</font>;
01311         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a> = text;
01312         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">_stemmed</a> = stemmed;
01313       }
01314 
<a name="l01315"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a1">01315</a>       <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0">TermFrequencyScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01316         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"occurrences"</font> );
01317         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"contextSize"</font> );
01318         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">_maximumContextLength</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"maximumContextLength"</font> );
01319         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">_minimumContextLength</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"minimumContextLength"</font> );
01320         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">_maximumOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"maximumOccurrences"</font> );
01321         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">_maximumContextFraction</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a4">getDouble</a>( <font class="stringliteral">"maximumContextFraction"</font> );
01322         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a2">getString</a>( <font class="stringliteral">"smoothing"</font> );
01323         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a2">getString</a>( <font class="stringliteral">"text"</font> );
01324         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">_stemmed</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a11">getBoolean</a>( <font class="stringliteral">"stemmed"</font> );
01325       }
01326       
<a name="l01327"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2">01327</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2">getText</a>()<font class="keyword"> const </font>{
01328         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a>;
01329       }
01330 
<a name="l01331"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a3">01331</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a3">getStemmed</a>()<font class="keyword"> const </font>{
01332         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">_stemmed</a>;
01333       }
01334 
<a name="l01335"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a4">01335</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a4">typeName</a>()<font class="keyword"> const </font>{
01336         <font class="keywordflow">return</font> <font class="stringliteral">"TermFrequencyScorerNode"</font>;
01337       }
01338 
<a name="l01339"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5">01339</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5">queryText</a>()<font class="keyword"> const </font>{
01340         std::stringstream qtext;
01341         
01342         <font class="keywordflow">if</font>( !<a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">_stemmed</a> )
01343           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a>;
01344         <font class="keywordflow">else</font>
01345           qtext &lt;&lt; <font class="stringliteral">"\""</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a> &lt;&lt; <font class="stringliteral">"\""</font>;
01346 
01347         <font class="keywordflow">return</font> qtext.str();
01348       }
01349 
<a name="l01350"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a6">01350</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a6">getOccurrences</a>()<font class="keyword"> const </font>{
01351         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">_occurrences</a>;
01352       }
01353 
<a name="l01354"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a7">01354</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a7">getContextSize</a>()<font class="keyword"> const </font>{
01355         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">_contextSize</a>;
01356       }
01357 
<a name="l01358"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a8">01358</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a8">getSmoothing</a>()<font class="keyword"> const </font>{
01359         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">_smoothing</a>;
01360       }
01361 
<a name="l01362"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a9">01362</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a9">getMaxContextLength</a>()<font class="keyword"> const </font>{
01363         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">_maximumContextLength</a>;
01364       }
01365 
<a name="l01366"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a10">01366</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a10">getMinContextLength</a>()<font class="keyword"> const </font>{
01367         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">_minimumContextLength</a>;
01368       }
01369 
<a name="l01370"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a11">01370</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a11">getMaxOccurrences</a>()<font class="keyword"> const </font>{
01371         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">_maximumOccurrences</a>;
01372       }
01373 
<a name="l01374"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a12">01374</a>       <font class="keywordtype">double</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a12">getMaxContextFraction</a>()<font class="keyword"> const </font>{
01375         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">_maximumContextFraction</a>;
01376       }
01377 
<a name="l01378"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a13">01378</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a13">setStatistics</a>( UINT64 occurrences, UINT64 contextSize,
01379                           UINT64 maxOccurrences,
01380                           UINT64 minContextLength, UINT64 maxContextLength,
01381                           <font class="keywordtype">double</font> maxContextFraction ) {
01382         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">_occurrences</a> = occurrences;
01383         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">_contextSize</a> = contextSize;
01384 
01385         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">_maximumOccurrences</a> = maxOccurrences;
01386         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">_minimumContextLength</a> = minContextLength;
01387         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">_maximumContextLength</a> = maxContextLength;
01388         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">_maximumContextFraction</a> = maxContextFraction;
01389       }
01390 
<a name="l01391"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a14">01391</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a14">setSmoothing</a>( <font class="keyword">const</font> std::string&amp; smoothing ) {
01392         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">_smoothing</a> = smoothing;
01393       }
01394 
<a name="l01395"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a15">01395</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a15">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01396         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01397         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"occurrences"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o0">_occurrences</a> );
01398         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"contextSize"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o1">_contextSize</a> );
01399         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"minimumContextLength"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o3">_minimumContextLength</a> );
01400         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumContextLength"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o2">_maximumContextLength</a> );
01401         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumOccurrences"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o4">_maximumOccurrences</a> );
01402         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumContextFraction"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o5">_maximumContextFraction</a> );
01403         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"text"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o6">_text</a> );
01404         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"stemmed"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o8">_stemmed</a> );
01405         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"smoothing"</font>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#o7">_smoothing</a> );
01406         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01407       }
01408 
<a name="l01409"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a16">01409</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a16">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01410         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01411         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01412       }
01413 
<a name="l01414"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a17">01414</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a17">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01415         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
01416         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html">TermFrequencyScorerNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0">TermFrequencyScorerNode</a>(*<font class="keyword">this</font>);
01417         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
01418       }
01419     };
01420 
01421     <font class="comment">// The CachedFrequencyScorerNode should only be used on a local machine;</font>
01422     <font class="comment">// it should not be transferred across the network</font>
<a name="l01423"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html">01423</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html">CachedFrequencyScorerNode</a> : <font class="keyword">public</font> indri::lang::<a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01424     <font class="keyword">private</font>:
<a name="l01425"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o0">01425</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o0">_raw</a>;
<a name="l01426"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o1">01426</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o1">_context</a>;
<a name="l01427"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">01427</a>       std::string <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">_smoothing</a>;
<a name="l01428"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o3">01428</a>       <font class="keywordtype">void</font>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o3">_list</a>;
01429     
01430     <font class="keyword">public</font>:
<a name="l01431"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a0">01431</a>       <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a0">CachedFrequencyScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* raw, <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* context )
01432         :
01433         _raw(raw),
01434         _context(context),
01435         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o3">_list</a>(0)
01436       {
01437       }
01438 
<a name="l01439"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1">01439</a>       <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a0">CachedFrequencyScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01440         LEMUR_THROW( LEMUR_RUNTIME_ERROR, <font class="stringliteral">"CachedFrequencyScorerNode should not be used on the network"</font> );
01441 
01442         _raw = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"raw"</font> );
01443         _context = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"context"</font> );
01444         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a2">getString</a>( <font class="stringliteral">"smoothing"</font> );
01445       }
01446 
<a name="l01447"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a2">01447</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a2">setList</a>( <font class="keywordtype">void</font>* list ) {
01448         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o3">_list</a> = list;
01449       }
01450 
<a name="l01451"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a3">01451</a>       <font class="keywordtype">void</font>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a3">getList</a>() {
01452         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o3">_list</a>;
01453       }
01454 
<a name="l01455"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4">01455</a>       std::string <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4">typeName</a>()<font class="keyword"> const </font>{
01456         <font class="keywordflow">return</font> <font class="stringliteral">"CachedFrequencyScorerNode"</font>;
01457       }
01458 
<a name="l01459"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a5">01459</a>       std::string <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a5">queryText</a>()<font class="keyword"> const </font>{
01460         std::stringstream qtext;
01461         
01462         qtext &lt;&lt; _raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
01463         <font class="keywordflow">if</font>( _context ) {
01464           <font class="comment">// if we haven't added a period yet, put one in</font>
01465           <font class="keywordtype">int</font> dot = qtext.str().find(<font class="charliteral">'.'</font>);
01466           <font class="keywordflow">if</font>( dot &lt; 0 )
01467             qtext &lt;&lt; <font class="charliteral">'.'</font>;
01468 
01469           qtext &lt;&lt; <font class="stringliteral">"("</font> &lt;&lt; _context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">")"</font>;
01470         }
01471 
01472         <font class="keywordflow">return</font> qtext.str();
01473       }
01474 
<a name="l01475"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a6">01475</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a6">setSmoothing</a>( <font class="keyword">const</font> std::string&amp; smoothing ) {
01476         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">_smoothing</a> = smoothing;
01477       }
01478 
<a name="l01479"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a7">01479</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a7">getSmoothing</a>()<font class="keyword"> const </font>{
01480         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">_smoothing</a>;
01481       }
01482 
<a name="l01483"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a8">01483</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a8">getRaw</a>() {
01484         <font class="keywordflow">return</font> _raw;
01485       }
01486 
<a name="l01487"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a9">01487</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a9">getContext</a>() {
01488         <font class="keywordflow">return</font> _context;
01489       }
01490       
<a name="l01491"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a10">01491</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a10">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01492         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01493         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"raw"</font>, _raw );
01494         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"context"</font>, _context );
01495         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"smoothing"</font>, <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">_smoothing</a> );
01496         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01497       }
01498 
<a name="l01499"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a11">01499</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a11">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01500         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01501         _raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>( walker );
01502         <font class="keywordflow">if</font>( _context )
01503           _context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>( walker );
01504         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01505       }
01506 
<a name="l01507"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a12">01507</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a12">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01508         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
01509 
01510         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>* duplicateRaw = dynamic_cast&lt;indri::lang::RawExtentNode*&gt;(_raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
01511         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>* duplicateContext = 0;
01512 
01513         <font class="keywordflow">if</font>( _context ) 
01514           duplicateContext = dynamic_cast&lt;indri::lang::RawExtentNode*&gt;(_context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
01515 
01516         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html">CachedFrequencyScorerNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a0">CachedFrequencyScorerNode</a>( duplicateRaw,
01517                                                                               duplicateContext );
01518         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
01519         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a6">setSmoothing</a>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#o2">_smoothing</a> );
01520         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a2">setList</a>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a3">getList</a>() );
01521 
01522         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>( <font class="keyword">this</font>, duplicate );
01523       }
01524     };
01525 
<a name="l01526"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html">01526</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1PriorNode.html">PriorNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01527     <font class="keyword">public</font>:
<a name="l01528"></a><a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html">01528</a>       <font class="keyword">struct </font><a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html">tuple_type</a> {
<a name="l01529"></a><a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m0">01529</a>         <font class="keywordtype">int</font> <a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m0">begin</a>;
<a name="l01530"></a><a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m1">01530</a>         <font class="keywordtype">int</font> <a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m1">end</a>;
<a name="l01531"></a><a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m2">01531</a>         <font class="keywordtype">double</font> <a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m2">score</a>;
01532       };
01533 
01534     <font class="keyword">private</font>:
<a name="l01535"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">01535</a>       std::map&lt;int,tuple_type&gt; <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">_table</a>;
<a name="l01536"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#o1">01536</a>       <a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>* <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o1">_field</a>;
<a name="l01537"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#o2">01537</a>       std::string <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o2">_fieldName</a>;
01538 
01539     <font class="keyword">public</font>:
<a name="l01540"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a0">01540</a>       <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a0">PriorNode</a>() :
01541         _field(0)
01542       {
01543       }
01544 
<a name="l01545"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a1">01545</a>       <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a0">PriorNode</a>( <a class="code" href="classindri_1_1lang_1_1Field.html">indri::lang::Field</a>* field, <font class="keyword">const</font> std::map&lt;int, tuple_type&gt;&amp; table ) :
01546         <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">_table</a>(table),
01547         _field(field)
01548       {
01549         <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o2">_fieldName</a> = _field-&gt;<a class="code" href="classindri_1_1lang_1_1Field.html#a2">getFieldName</a>();  
01550       }
01551 
<a name="l01552"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a2">01552</a>       <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a0">PriorNode</a>( std::string&amp; fieldName, <font class="keyword">const</font> std::map&lt;int, tuple_type&gt;&amp; table ) :
01553         <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o2">_fieldName</a>(fieldName),
01554         _field(0),
01555         <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">_table</a>(table)
01556       {
01557       }
01558 
<a name="l01559"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a3">01559</a>       std::string <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01560         std::stringstream qtext;
01561         <font class="comment">// with the definition of priors somewhat in flux, it's</font>
01562         <font class="comment">// hard to know what would be good to put here.</font>
01563         qtext &lt;&lt; <font class="stringliteral">"#prior("</font> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o2">_fieldName</a> &lt;&lt; <font class="stringliteral">")"</font>;
01564         <font class="keywordflow">return</font> qtext.str();
01565       }
01566 
<a name="l01567"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a4">01567</a>       <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a0">PriorNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01568         std::vector&lt;int&gt; beginList = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a8">getIntVector</a>( <font class="stringliteral">"begin"</font> );
01569         std::vector&lt;int&gt; endList = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a8">getIntVector</a>( <font class="stringliteral">"end"</font> );
01570         std::vector&lt;double&gt; scoreList = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9">getDoubleVector</a>( <font class="stringliteral">"score"</font> );
01571         assert( beginList.size() == endList.size() );
01572         assert( scoreList.size() == endList.size() );
01573 
01574         <font class="keywordflow">for</font>( size_t i=0; i&lt;beginList.size(); i++ ) {
01575           <a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html">tuple_type</a> t;
01576           t.<a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m0">begin</a> = beginList[i];
01577           t.<a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m1">end</a> = endList[i];
01578           t.<a class="code" href="structindri_1_1lang_1_1PriorNode_1_1tuple__type.html#m2">score</a> = scoreList[i];
01579 
01580           <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">_table</a>[ beginList[i] ] = t;
01581         }
01582  
01583         _field = dynamic_cast&lt;Field*&gt;(unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"field"</font> ));
01584       }
01585 
<a name="l01586"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a5">01586</a>       std::string <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a5">nodeType</a>() {
01587         <font class="keywordflow">return</font> <font class="stringliteral">"PriorNode"</font>;
01588       }
01589       
<a name="l01590"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a6">01590</a>       <font class="keyword">const</font> std::map&lt;int,tuple_type&gt;&amp; <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a6">getTable</a>()<font class="keyword"> const </font>{
01591         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">_table</a>;
01592       }
01593 
<a name="l01594"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a7">01594</a>       <font class="keyword">const</font> std::string&amp; <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a7">getFieldName</a>()<font class="keyword"> const </font>{
01595         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o2">_fieldName</a>;
01596       }
01597 
<a name="l01598"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a8">01598</a>       <a class="code" href="classindri_1_1lang_1_1Field.html">indri::lang::Field</a>* <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a8">getField</a>()<font class="keyword"> const </font>{
01599         <font class="keywordflow">return</font> _field;
01600       }
01601 
<a name="l01602"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a9">01602</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a9">setField</a>( <a class="code" href="classindri_1_1lang_1_1Field.html">indri::lang::Field</a>* field ) {
01603         _field = field;
01604       }
01605 
<a name="l01606"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a10">01606</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a10">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01607         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01608         _field-&gt;<a class="code" href="classindri_1_1lang_1_1Field.html#a6">walk</a>(walker);
01609         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01610       }
01611 
<a name="l01612"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a11">01612</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a11">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01613         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
01614         <a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>* duplicateField = dynamic_cast&lt;Field*&gt;(_field-&gt;<a class="code" href="classindri_1_1lang_1_1Field.html#a7">copy</a>(copier));
01615         <a class="code" href="classindri_1_1lang_1_1PriorNode.html">PriorNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a0">PriorNode</a>( duplicateField, <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a6">getTable</a>() );
01616         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
01617       }
01618 
<a name="l01619"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a12">01619</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a12">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01620         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01621 
01622         std::vector&lt;int&gt; beginList;
01623         std::vector&lt;int&gt; endList;
01624         std::vector&lt;double&gt; scoreList;
01625 
01626         <font class="keywordflow">for</font>( std::map&lt;int,tuple_type&gt;::iterator iter;
01627              iter != <a class="code" href="classindri_1_1lang_1_1PriorNode.html#o0">_table</a>.end();
01628              iter++ )
01629         {
01630           beginList.push_back( (*iter).second.begin );
01631           endList.push_back( (*iter).second.end );
01632           scoreList.push_back( (*iter).second.score );
01633         }
01634 
01635         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"begin"</font>, beginList );
01636         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"end"</font>, endList );
01637         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"score"</font>, scoreList );
01638         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"field"</font>, _field );
01639         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01640       }
01641     };
01642 
<a name="l01643"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">01643</a>     <font class="comment">/* abstract */</font> <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01644     <font class="keyword">protected</font>:
<a name="l01645"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">01645</a>       std::vector&lt;ScoredExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>;
01646 
<a name="l01647"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b0">01647</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b0">_unpack</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01648         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7">getScoredExtentVector</a>( <font class="stringliteral">"children"</font> );
01649       }
01650 
01651       <font class="keyword">template</font>&lt;<font class="keyword">class</font> _ThisType&gt;
<a name="l01652"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b1">01652</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b1">_walk</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01653         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(ptr);
01654 
01655         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01656           <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>[i]-&gt;walk(walker);
01657         }
01658         
01659         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(ptr);
01660       }
01661 
01662       <font class="keyword">template</font>&lt;<font class="keyword">class</font> _ThisType&gt;
<a name="l01663"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b2">01663</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b2">_copy</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01664         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(ptr);
01665         
01666         _ThisType* duplicate = <font class="keyword">new</font> _ThisType();
01667         duplicate-&gt;setNodeName( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
01668         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01669           duplicate-&gt;addChild( dynamic_cast&lt;ScoredExtentNode*&gt;(<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>[i]-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier)) );
01670         } 
01671 
01672         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(ptr, duplicate);
01673       }
01674 
<a name="l01675"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b3">01675</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b3">_childText</a>( std::stringstream&amp; qtext )<font class="keyword"> const </font>{
01676         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01677           <font class="keywordflow">if</font>(i&gt;0) qtext &lt;&lt; <font class="stringliteral">" "</font>;
01678           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>[i]-&gt;queryText();
01679         }
01680       }
01681 
01682     <font class="keyword">public</font>:
<a name="l01683"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0">01683</a>       <font class="keyword">const</font> std::vector&lt;ScoredExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0">getChildren</a>() {
01684         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>;
01685       }
01686 
<a name="l01687"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a1">01687</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a1">addChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) {
01688         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a>.push_back( scoredNode );
01689       }
01690 
<a name="l01691"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a2">01691</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a2">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01692         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01693         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"children"</font>, <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#n0">_children</a> );
01694         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01695       }
01696     };
01697 
<a name="l01698"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">01698</a>     <font class="comment">/* abstract */</font> <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01699     <font class="keyword">protected</font>:
<a name="l01700"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">01700</a>       std::vector&lt; std::pair&lt;double, ScoredExtentNode*&gt; &gt; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>;
01701 
<a name="l01702"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b0">01702</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b0">_unpack</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01703         std::vector&lt;double&gt; weights = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9">getDoubleVector</a>( <font class="stringliteral">"weights"</font> );
01704         std::vector&lt;ScoredExtentNode*&gt; nodes = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7">getScoredExtentVector</a>( <font class="stringliteral">"children"</font> );
01705 
01706         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;weights.size(); i++ ) {
01707           <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>.push_back( std::make_pair( weights[i], nodes[i] ) );
01708         }
01709       }
01710 
01711       <font class="keyword">template</font>&lt;<font class="keyword">class</font> _ThisType&gt;
<a name="l01712"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b1">01712</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b1">_walk</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01713         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(ptr);
01714         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01715           <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].second-&gt;walk(walker);
01716         }
01717         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(ptr);
01718       }
01719 
01720       <font class="keyword">template</font>&lt;<font class="keyword">class</font> _ThisType&gt;
<a name="l01721"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b2">01721</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b2">_copy</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01722         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(ptr);
01723 
01724         _ThisType* duplicate = <font class="keyword">new</font> _ThisType;
01725         duplicate-&gt;setNodeName( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
01726         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01727           <font class="keywordtype">double</font> childWeight = <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].first;
01728           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* childCopy = <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].second-&gt;copy( copier );
01729 
01730           duplicate-&gt;addChild( childWeight, dynamic_cast&lt;ScoredExtentNode*&gt;(childCopy) );
01731         }
01732         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(ptr, duplicate);
01733       }
01734 
<a name="l01735"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b3">01735</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b3">_childText</a>( std::stringstream&amp; qtext )<font class="keyword"> const </font>{
01736         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01737           <font class="keywordflow">if</font>(i&gt;0) qtext &lt;&lt; <font class="stringliteral">" "</font>;
01738           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].first
01739                 &lt;&lt; <font class="stringliteral">" "</font>
01740                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].second-&gt;queryText();
01741         }
01742       }
01743 
01744     <font class="keyword">public</font>:
<a name="l01745"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a0">01745</a>       <font class="keyword">const</font> std::vector&lt; std::pair&lt;double, ScoredExtentNode*&gt; &gt;&amp; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a0">getChildren</a>() {
01746         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>;
01747       }
01748 
<a name="l01749"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1">01749</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1">addChild</a>( <font class="keywordtype">double</font> weight, <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) {
01750         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>.push_back( std::make_pair( weight, scoredNode) );
01751       }
01752 
<a name="l01753"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a2">01753</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1">addChild</a>( <font class="keyword">const</font> std::string&amp; weight, <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) {
01754         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1">addChild</a>( atof( weight.c_str() ), scoredNode );
01755       }
01756 
<a name="l01757"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a3">01757</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a3">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01758         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01759         
01760         std::vector&lt;double&gt; weights;
01761         std::vector&lt;ScoredExtentNode*&gt; nodes;
01762 
01763         <font class="keywordflow">for</font>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>.size(); i++ ) {
01764           weights.push_back( <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].first );
01765           nodes.push_back( <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#n0">_children</a>[i].second );
01766         }
01767 
01768         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"weights"</font>, weights );
01769         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"children"</font>, nodes );
01770         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01771       }
01772     };
01773 
<a name="l01774"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html">01774</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1OrNode.html">OrNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
01775     <font class="keyword">public</font>:
<a name="l01776"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a0">01776</a>       <a class="code" href="classindri_1_1lang_1_1OrNode.html#a0">OrNode</a>() {}
<a name="l01777"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a1">01777</a>       <a class="code" href="classindri_1_1lang_1_1OrNode.html#a0">OrNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01778         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b0">_unpack</a>( unpacker );
01779       }
01780 
<a name="l01781"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a2">01781</a>       std::string <a class="code" href="classindri_1_1lang_1_1OrNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01782         <font class="keywordflow">return</font> <font class="stringliteral">"OrNode"</font>;
01783       }
01784 
<a name="l01785"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a3">01785</a>       std::string <a class="code" href="classindri_1_1lang_1_1OrNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01786         std::stringstream qtext;
01787         qtext &lt;&lt; <font class="stringliteral">"#or("</font>;
01788         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b3">_childText</a>(qtext);
01789         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01790 
01791         <font class="keywordflow">return</font> qtext.str();
01792       } 
01793 
<a name="l01794"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a4">01794</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1OrNode.html#a4">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01795         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b1">_walk</a>( <font class="keyword">this</font>, walker );
01796       }
01797       
<a name="l01798"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a5">01798</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1OrNode.html#a5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01799         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b2">_copy</a>( <font class="keyword">this</font>, copier );
01800       }
01801     };
01802 
<a name="l01803"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html">01803</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1NotNode.html">NotNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
01804     <font class="keyword">private</font>:
<a name="l01805"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#o0">01805</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1NotNode.html#o0">_child</a>;
01806 
01807     <font class="keyword">public</font>:
<a name="l01808"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a0">01808</a>       <a class="code" href="classindri_1_1lang_1_1NotNode.html#a0">NotNode</a>() {
01809         _child = 0;
01810       }
01811 
<a name="l01812"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a1">01812</a>       <a class="code" href="classindri_1_1lang_1_1NotNode.html#a0">NotNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
01813         _child = child;
01814       }
01815 
<a name="l01816"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a2">01816</a>       <a class="code" href="classindri_1_1lang_1_1NotNode.html#a0">NotNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01817         _child = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a10">getScoredExtentNode</a>( <font class="stringliteral">"child"</font> );
01818       }
01819 
<a name="l01820"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a3">01820</a>       std::string <a class="code" href="classindri_1_1lang_1_1NotNode.html#a3">typeName</a>()<font class="keyword"> const </font>{
01821         <font class="keywordflow">return</font> <font class="stringliteral">"NotNode"</font>;
01822       }
01823 
<a name="l01824"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a4">01824</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1NotNode.html#a4">getChild</a>() {
01825         <font class="keywordflow">return</font> _child;
01826       }
01827 
<a name="l01828"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a5">01828</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1NotNode.html#a5">setChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
01829         _child = child;
01830       }
01831 
<a name="l01832"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a6">01832</a>       std::string <a class="code" href="classindri_1_1lang_1_1NotNode.html#a6">queryText</a>()<font class="keyword"> const </font>{
01833         std::stringstream qtext;
01834         qtext &lt;&lt; <font class="stringliteral">"#not("</font>;
01835         qtext &lt;&lt; _child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
01836         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01837 
01838         <font class="keywordflow">return</font> qtext.str();
01839       } 
01840 
<a name="l01841"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a7">01841</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1NotNode.html#a7">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01842         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
01843         _child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
01844         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
01845       }
01846 
<a name="l01847"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a8">01847</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1NotNode.html#a8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
01848         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
01849         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"child"</font>, _child );
01850         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
01851       }
01852 
<a name="l01853"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a9">01853</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1NotNode.html#a9">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01854         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>( <font class="keyword">this</font> );
01855         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* childDuplicate = dynamic_cast&lt;ScoredExtentNode*&gt;(_child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
01856         <a class="code" href="classindri_1_1lang_1_1NotNode.html">NotNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1NotNode.html#a0">NotNode</a>( childDuplicate );
01857         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
01858         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>( <font class="keyword">this</font>, duplicate );
01859       }
01860     };
01861 
<a name="l01862"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html">01862</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1MaxNode.html">MaxNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
01863     <font class="keyword">public</font>:
<a name="l01864"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a0">01864</a>       <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a0">MaxNode</a>() {}
<a name="l01865"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a1">01865</a>       <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a0">MaxNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01866         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b0">_unpack</a>( unpacker );
01867       }
01868 
<a name="l01869"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a2">01869</a>       std::string <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01870         <font class="keywordflow">return</font> <font class="stringliteral">"MaxNode"</font>;
01871       }
01872 
<a name="l01873"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a3">01873</a>       std::string <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01874         std::stringstream qtext;
01875         qtext &lt;&lt; <font class="stringliteral">"#max("</font>;
01876         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b3">_childText</a>(qtext);
01877         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01878 
01879         <font class="keywordflow">return</font> qtext.str();
01880       } 
01881 
01882 
<a name="l01883"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a4">01883</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a4">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01884         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b1">_walk</a>(<font class="keyword">this</font>, walker);
01885       }
01886 
<a name="l01887"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a5">01887</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01888         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b2">_copy</a>( <font class="keyword">this</font>, copier );
01889       }
01890     };
01891 
<a name="l01892"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html">01892</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1CombineNode.html">CombineNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
01893     <font class="keyword">public</font>:
<a name="l01894"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a0">01894</a>       <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a0">CombineNode</a>() {}
<a name="l01895"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a1">01895</a>       <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a0">CombineNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01896         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b0">_unpack</a>( unpacker );
01897       }
01898 
<a name="l01899"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a2">01899</a>       std::string <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01900         <font class="keywordflow">return</font> <font class="stringliteral">"CombineNode"</font>;
01901       }
01902 
<a name="l01903"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a3">01903</a>       std::string <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01904         std::stringstream qtext;
01905         qtext &lt;&lt; <font class="stringliteral">"#combine("</font>;
01906         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b3">_childText</a>(qtext);
01907         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01908 
01909         <font class="keywordflow">return</font> qtext.str();
01910       } 
01911 
<a name="l01912"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a4">01912</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a4">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01913         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b1">_walk</a>( <font class="keyword">this</font>, walker );
01914       }
01915       
<a name="l01916"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a5">01916</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01917         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#b2">_copy</a>( <font class="keyword">this</font>, copier );
01918       }
01919     };
01920 
<a name="l01921"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html">01921</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1WAndNode.html">WAndNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
01922     <font class="keyword">public</font>:
<a name="l01923"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a0">01923</a>       <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a0">WAndNode</a>() {}
<a name="l01924"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a1">01924</a>       <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a0">WAndNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01925         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b0">_unpack</a>( unpacker );
01926       }
01927 
<a name="l01928"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a2">01928</a>       std::string <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01929         <font class="keywordflow">return</font> <font class="stringliteral">"WAndNode"</font>;
01930       }
01931 
<a name="l01932"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a3">01932</a>       std::string <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01933         std::stringstream qtext;
01934         qtext &lt;&lt; <font class="stringliteral">"#wand("</font>;
01935         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b3">_childText</a>(qtext);
01936         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01937 
01938         <font class="keywordflow">return</font> qtext.str();
01939       } 
01940 
<a name="l01941"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a4">01941</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a4">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01942         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b1">_walk</a>( <font class="keyword">this</font>, walker );
01943       }
01944 
<a name="l01945"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a5">01945</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01946         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b2">_copy</a>( <font class="keyword">this</font>, copier );
01947       }
01948     };
01949 
<a name="l01950"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html">01950</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1WSumNode.html">WSumNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
01951     <font class="keyword">public</font>:
<a name="l01952"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a0">01952</a>       <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a0">WSumNode</a>() {}
<a name="l01953"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a1">01953</a>       <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a0">WSumNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01954         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b0">_unpack</a>( unpacker );
01955       }
01956 
<a name="l01957"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a2">01957</a>       std::string <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01958         <font class="keywordflow">return</font> <font class="stringliteral">"WSumNode"</font>;
01959       }
01960 
<a name="l01961"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a3">01961</a>       std::string <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01962         std::stringstream qtext;
01963         qtext &lt;&lt; <font class="stringliteral">"#wsum("</font>;
01964         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b3">_childText</a>(qtext);
01965         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01966 
01967         <font class="keywordflow">return</font> qtext.str();
01968       } 
01969 
<a name="l01970"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a4">01970</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a4">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
01971         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b1">_walk</a>( <font class="keyword">this</font>, walker );
01972       }
01973 
<a name="l01974"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a5">01974</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
01975         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b2">_copy</a>( <font class="keyword">this</font>, copier );
01976       }
01977     };
01978 
<a name="l01979"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html">01979</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1WeightNode.html">WeightNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
01980     <font class="keyword">public</font>:
<a name="l01981"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a0">01981</a>       <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a0">WeightNode</a>() {}
<a name="l01982"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a1">01982</a>       <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a0">WeightNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
01983         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b0">_unpack</a>( unpacker );
01984       }
01985 
<a name="l01986"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a2">01986</a>       std::string <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
01987         <font class="keywordflow">return</font> <font class="stringliteral">"WeightNode"</font>;
01988       }
01989 
<a name="l01990"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a3">01990</a>       std::string <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
01991         std::stringstream qtext;
01992         qtext &lt;&lt; <font class="stringliteral">"#weight("</font>;
01993         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b3">_childText</a>(qtext);
01994         qtext &lt;&lt; <font class="stringliteral">")"</font>;
01995 
01996         <font class="keywordflow">return</font> qtext.str();
01997       } 
01998 
<a name="l01999"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a4">01999</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a4">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
02000         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b1">_walk</a>( <font class="keyword">this</font>, walker );
02001       }
02002 
<a name="l02003"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a5">02003</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
02004         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#b2">_copy</a>( <font class="keyword">this</font>, copier );
02005       }
02006     };
02007 
<a name="l02008"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">02008</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
02009     <font class="keyword">private</font>:
<a name="l02010"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#o0">02010</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#o0">_child</a>;
<a name="l02011"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#o1">02011</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#o1">_field</a>;
02012 
02013     <font class="keyword">public</font>:
<a name="l02014"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a0">02014</a>       <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a0">ExtentRestriction</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
02015         _child = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a10">getScoredExtentNode</a>(<font class="stringliteral">"child"</font>);
02016         _field = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>(<font class="stringliteral">"field"</font>);
02017       }
02018 
<a name="l02019"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a1">02019</a>       <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a0">ExtentRestriction</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field ) :
02020         _child(child),
02021         _field(field)
02022       {
02023       }
02024 
<a name="l02025"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a2">02025</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a2">typeName</a>()<font class="keyword"> const </font>{
02026         <font class="keywordflow">return</font> <font class="stringliteral">"ExtentRestriction"</font>;
02027       }
02028 
<a name="l02029"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a3">02029</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a3">queryText</a>()<font class="keyword"> const </font>{
02030         std::stringstream qtext;
02031         <font class="comment">// this extent restriction is almost certainly because of some #combine or #max operator</font>
02032         <font class="comment">// in the _child position.  We look for the first parenthesis (e.g. #combine(dog cat)) and</font>
02033         <font class="comment">// insert the brackets in.</font>
02034         
02035         std::string childText = _child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
02036         std::string::size_type pos = childText.find( <font class="charliteral">'('</font> );
02037 
02038         <font class="keywordflow">if</font>( pos != std::string::npos ) {
02039           qtext &lt;&lt; childText.substr(0,pos) 
02040                 &lt;&lt; <font class="stringliteral">"["</font>
02041                 &lt;&lt; _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
02042                 &lt;&lt; <font class="stringliteral">"]"</font>
02043                 &lt;&lt; childText.substr(pos);
02044         } <font class="keywordflow">else</font> {
02045           <font class="comment">// couldn't find a parenthesis, so we'll tack the [field] on the front</font>
02046           qtext &lt;&lt; <font class="stringliteral">"["</font>
02047                 &lt;&lt; _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>()
02048                 &lt;&lt; <font class="stringliteral">"]"</font>
02049                 &lt;&lt; childText;
02050         }
02051 
02052         <font class="keywordflow">return</font> qtext.str();
02053       } 
02054 
<a name="l02055"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a4">02055</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a4">getChild</a>() {
02056         <font class="keywordflow">return</font> _child;
02057       }
02058 
<a name="l02059"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a5">02059</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a5">getField</a>() {
02060         <font class="keywordflow">return</font> _field;
02061       }
02062 
<a name="l02063"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a6">02063</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a6">setChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
02064         _child = child;
02065       }
02066 
<a name="l02067"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a7">02067</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a7">setField</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field ) {
02068         _field = field;
02069       }
02070       
<a name="l02071"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a8">02071</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
02072         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
02073         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"child"</font>, _child);
02074         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"field"</font>, _field);
02075         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
02076       }
02077 
<a name="l02078"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a9">02078</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
02079         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
02080         _child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02081         _field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02082         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
02083       }
02084 
<a name="l02085"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a10">02085</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a10">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
02086         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
02087 
02088         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = dynamic_cast&lt;indri::lang::ScoredExtentNode*&gt;(_child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
02089         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateField = dynamic_cast&lt;indri::lang::RawExtentNode*&gt;(_field-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
02090         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a0">ExtentRestriction</a>( duplicateChild, duplicateField );
02091         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
02092         
02093         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
02094       }
02095     };
02096 
<a name="l02097"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html">02097</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1FilterNode.html">FilterNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
02098     <font class="keyword">private</font>:
<a name="l02099"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#o0">02099</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o0">_child</a>;
<a name="l02100"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">02100</a>       std::vector&lt;int&gt; <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">_documents</a>;
02101 
02102     <font class="keyword">public</font>:
<a name="l02103"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a0">02103</a>       <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a0">FilterNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child, std::vector&lt;int&gt;&amp; documents ) : 
02104         _child(child),
02105         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">_documents</a>(documents)
02106       {
02107       }
02108 
<a name="l02109"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a1">02109</a>       <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a0">FilterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
02110         _child = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a10">getScoredExtentNode</a>( <font class="stringliteral">"child"</font> );
02111         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">_documents</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a8">getIntVector</a>( <font class="stringliteral">"documents"</font> );
02112       }
02113 
<a name="l02114"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a2">02114</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
02115         <font class="keywordflow">return</font> <font class="stringliteral">"FilterNode"</font>;
02116       }
02117 
<a name="l02118"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3">02118</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3">getChild</a>() {
02119         <font class="keywordflow">return</font> _child;
02120       }
02121 
<a name="l02122"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a4">02122</a>       <font class="keyword">const</font> std::vector&lt;int&gt;&amp; <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a4">getDocuments</a>()<font class="keyword"> const </font>{
02123         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">_documents</a>;
02124       }
02125 
<a name="l02126"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a5">02126</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a5">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
02127         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
02128         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"child"</font>, _child);
02129         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>(<font class="stringliteral">"documents"</font>, <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">_documents</a>);
02130         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
02131       }
02132 
<a name="l02133"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a6">02133</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
02134         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
02135         _child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02136         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
02137       }
02138 
<a name="l02139"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a7">02139</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a7">queryText</a>()<font class="keyword"> const </font>{
02140         <font class="comment">// for now, we'll let the filter be anonymous, since it can never</font>
02141         <font class="comment">// be typed by the user</font>
02142         <font class="keywordflow">return</font> _child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
02143       }
02144 
<a name="l02145"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a8">02145</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a8">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
02146         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
02147 
02148         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = dynamic_cast&lt;ScoredExtentNode*&gt;(_child-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
02149         <a class="code" href="classindri_1_1lang_1_1FilterNode.html">FilterNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a0">FilterNode</a>( duplicateChild, <a class="code" href="classindri_1_1lang_1_1FilterNode.html#o1">_documents</a> );
02150         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
02151 
02152         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
02153       }
02154     };
02155 
<a name="l02156"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html">02156</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html">ContextCounterNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
02157     <font class="keyword">private</font>:
<a name="l02158"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o0">02158</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o0">_raw</a>;
<a name="l02159"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o1">02159</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o1">_context</a>;
<a name="l02160"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">02160</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">_hasCounts</a>;
<a name="l02161"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">02161</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">_hasContextSize</a>;
<a name="l02162"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">02162</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">_hasMaxScore</a>;
<a name="l02163"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">02163</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">_occurrences</a>;
<a name="l02164"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">02164</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">_contextSize</a>;
02165 
<a name="l02166"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">02166</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">_minimumContextLength</a>;
<a name="l02167"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">02167</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">_maximumContextLength</a>;
<a name="l02168"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">02168</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">_maximumOccurrences</a>;
<a name="l02169"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">02169</a>       <font class="keywordtype">double</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">_maximumContextFraction</a>;
02170 
02171     <font class="keyword">public</font>:
<a name="l02172"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a0">02172</a>       <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a0">ContextCounterNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context ) :
02173          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">_hasCounts</a>(false),
02174          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">_hasContextSize</a>(false),
02175          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">_hasMaxScore</a>(false),
02176          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">_occurrences</a>(0),
02177          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">_contextSize</a>(0),
02178          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">_minimumContextLength</a>(1),
02179          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">_maximumContextLength</a>(MAX_INT32),
02180          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">_maximumOccurrences</a>(MAX_INT32),
02181          <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">_maximumContextFraction</a>(1.0)
02182       {
02183         _raw = raw;
02184         _context = context;
02185       }
02186 
<a name="l02187"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a1">02187</a>       <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a0">ContextCounterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
02188         _raw = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"raw"</font> );
02189         _context = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a5">getRawExtentNode</a>( <font class="stringliteral">"context"</font> );
02190         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"occurrences"</font> );
02191         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"contextSize"</font> );
02192 
02193         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">_minimumContextLength</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"minimumContextLength"</font> );
02194         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">_maximumContextLength</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"maximumContextLength"</font> );
02195         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">_maximumOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a3">getInteger</a>( <font class="stringliteral">"maximumOccurrences"</font> );
02196         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">_maximumContextFraction</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a4">getDouble</a>( <font class="stringliteral">"maximumContextFraction"</font> );
02197 
02198         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">_hasCounts</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a11">getBoolean</a>( <font class="stringliteral">"hasCounts"</font> );
02199         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">_hasContextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a11">getBoolean</a>( <font class="stringliteral">"hasContextSize"</font> );
02200         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">_hasMaxScore</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a11">getBoolean</a>( <font class="stringliteral">"hasMaxScore"</font> );
02201       }
02202 
<a name="l02203"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2">02203</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
02204         <font class="keywordflow">return</font> <font class="stringliteral">"ContextCounterNode"</font>;
02205       }
02206 
<a name="l02207"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3">02207</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
02208         std::stringstream qtext;
02209         
02210         <font class="keywordflow">if</font>( _raw )
02211           qtext &lt;&lt; _raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
02212 
02213         <font class="keywordflow">if</font>( _context ) {
02214           <font class="comment">// if we haven't added a period yet, put one in</font>
02215           <font class="keywordtype">int</font> dot = qtext.str().find(<font class="charliteral">'.'</font>);
02216           <font class="keywordflow">if</font>( dot &lt; 0 )
02217             qtext &lt;&lt; <font class="charliteral">'.'</font>;
02218 
02219           qtext &lt;&lt; <font class="stringliteral">"("</font> &lt;&lt; _context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>() &lt;&lt; <font class="stringliteral">")"</font>;
02220         }
02221 
02222         <font class="keywordflow">return</font> qtext.str();
02223       }
02224 
<a name="l02225"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a4">02225</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a4">getContext</a>() {
02226         <font class="keywordflow">return</font> _context;
02227       }
02228 
<a name="l02229"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a5">02229</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a5">getRawExtent</a>() {
02230         <font class="keywordflow">return</font> _raw;
02231       }
02232 
<a name="l02233"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a6">02233</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a6">setRawExtent</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* rawExtent ) {
02234         _raw = rawExtent;
02235       }
02236 
<a name="l02237"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a7">02237</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a7">setContext</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context ) {
02238         _context = context;
02239       }
02240 
<a name="l02241"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a8">02241</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
02242         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
02243         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"raw"</font>, _raw );
02244         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"context"</font>, _context );
02245         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"occurrences"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">_occurrences</a> );
02246         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"contextSize"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">_contextSize</a> );
02247 
02248         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumOccurrences"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">_maximumOccurrences</a> );
02249         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumContextFraction"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">_maximumContextFraction</a> );
02250         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"maximumContextLength"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">_maximumContextLength</a> );
02251         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"minimumContextLength"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">_minimumContextLength</a> );
02252 
02253         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"hasCounts"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">_hasCounts</a> );
02254         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"hasContextSize"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">_hasContextSize</a> );
02255         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"hasMaxScore"</font>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">_hasMaxScore</a> );
02256         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
02257       }
02258 
<a name="l02259"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a9">02259</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
02260         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
02261         <font class="keywordflow">if</font>( _raw ) _raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02262         <font class="keywordflow">if</font>( _context ) _context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02263         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
02264       }
02265 
<a name="l02266"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a10">02266</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a10">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
02267         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
02268         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateRaw = _raw ? dynamic_cast&lt;RawExtentNode*&gt;(_raw-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier)) : 0;
02269         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateContext = _context ? dynamic_cast&lt;RawExtentNode*&gt;(_context-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier)) : 0;
02270         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html">ContextCounterNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a0">ContextCounterNode</a>(*<font class="keyword">this</font>);
02271         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a7">setContext</a>(duplicateContext);
02272         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a6">setRawExtent</a>(duplicateRaw);
02273         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
02274       }
02275 
<a name="l02276"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a11">02276</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a11">hasCounts</a>()<font class="keyword"> const </font>{
02277         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">_hasCounts</a>;
02278       }
02279 
<a name="l02280"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a12">02280</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a12">hasContextSize</a>()<font class="keyword"> const </font>{
02281         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">_hasContextSize</a>;
02282       }
02283 
<a name="l02284"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a13">02284</a>       <font class="keywordtype">bool</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a13">hasMaxScore</a>()<font class="keyword"> const </font>{
02285         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">_hasMaxScore</a>;
02286       }
02287 
<a name="l02288"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a14">02288</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a14">getOccurrences</a>()<font class="keyword"> const </font>{
02289         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">_occurrences</a>;
02290       }
02291 
<a name="l02292"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a15">02292</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a15">getContextSize</a>()<font class="keyword"> const </font>{
02293         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">_contextSize</a>;
02294       }
02295 
<a name="l02296"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a16">02296</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a16">getMaximumOccurrences</a>()<font class="keyword"> const </font>{
02297         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">_maximumOccurrences</a>;
02298       }
02299 
<a name="l02300"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a17">02300</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a17">getMinimumContextLength</a>()<font class="keyword"> const </font>{
02301         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">_minimumContextLength</a>;
02302       }
02303 
<a name="l02304"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a18">02304</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a18">getMaximumContextLength</a>()<font class="keyword"> const </font>{
02305         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">_maximumContextLength</a>;
02306       }
02307 
<a name="l02308"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a19">02308</a>       <font class="keywordtype">double</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a19">getMaximumContextFraction</a>()<font class="keyword"> const </font>{
02309         <font class="keywordflow">return</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">_maximumContextFraction</a>;
02310       }
02311 
<a name="l02312"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a20">02312</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a20">setContextSize</a>( UINT64 contextSize ) {
02313         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o6">_contextSize</a> = contextSize;
02314         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o3">_hasContextSize</a> = <font class="keyword">true</font>;
02315       }
02316 
<a name="l02317"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a21">02317</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a21">setCounts</a>( UINT64 occurrences,
02318                       UINT64 contextSize ) {
02319         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o2">_hasCounts</a> = <font class="keyword">true</font>;
02320         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o5">_occurrences</a> = occurrences;
02321         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a20">setContextSize</a>( contextSize );
02322       }
02323 
<a name="l02324"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a22">02324</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a21">setCounts</a>( UINT64 occurrences,
02325                       UINT64 contextSize,
02326                       UINT64 maximumOccurrences, 
02327                       UINT64 minimumContextLength, 
02328                       UINT64 maximumContextLength,
02329                       <font class="keywordtype">double</font> maximumContextFraction )
02330       {
02331         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a21">setCounts</a>( occurrences, contextSize );
02332         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o4">_hasMaxScore</a> = <font class="keyword">true</font>;
02333         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o9">_maximumOccurrences</a> = maximumOccurrences;
02334         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o7">_minimumContextLength</a> = minimumContextLength;
02335         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o8">_maximumContextLength</a> = maximumContextLength;
02336         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#o10">_maximumContextFraction</a> = maximumContextFraction;
02337       }
02338     };
02339 
<a name="l02340"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html">02340</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html">ScoreAccumulatorNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
02341     <font class="keyword">private</font>:
<a name="l02342"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#o0">02342</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#o0">_scoredNode</a>;
02343 
02344     <font class="keyword">public</font>:
<a name="l02345"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a0">02345</a>       <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a0">ScoreAccumulatorNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) :
02346         _scoredNode(scoredNode)
02347       {
02348       }
02349 
<a name="l02350"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a1">02350</a>       <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a0">ScoreAccumulatorNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
02351         _scoredNode = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a10">getScoredExtentNode</a>( <font class="stringliteral">"scoredNode"</font> );
02352       }
02353 
<a name="l02354"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a2">02354</a>       std::string <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
02355         <font class="keywordflow">return</font> <font class="stringliteral">"ScoreAccumulatorNode"</font>;
02356       }
02357 
<a name="l02358"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a3">02358</a>       std::string <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
02359         <font class="comment">// anonymous</font>
02360         <font class="keywordflow">return</font> _scoredNode-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
02361       }
02362 
<a name="l02363"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a4">02363</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a4">getChild</a>() {
02364         <font class="keywordflow">return</font> _scoredNode;
02365       }
02366 
<a name="l02367"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a5">02367</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a5">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
02368         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
02369         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"scoredNode"</font>, _scoredNode );
02370         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
02371       }
02372 
<a name="l02373"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a6">02373</a>       <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
02374         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
02375         _scoredNode-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02376         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
02377       }
02378 
<a name="l02379"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a7">02379</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
02380         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
02381         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = dynamic_cast&lt;ScoredExtentNode*&gt;(_scoredNode-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
02382         <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html">ScoreAccumulatorNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a0">ScoreAccumulatorNode</a>(duplicateChild);
02383         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
02384         <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
02385       }
02386     };
02387 
<a name="l02388"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html">02388</a>     <font class="keyword">class </font><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html">AnnotatorNode</a> : <font class="keyword">public</font> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
02389       <font class="keyword">private</font>:
<a name="l02390"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#o0">02390</a>         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#o0">_scoredNode</a>;
02391 
02392       <font class="keyword">public</font>:
<a name="l02393"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a0">02393</a>         <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a0">AnnotatorNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) :
02394           _scoredNode(scoredNode)
02395         {
02396         }
02397 
<a name="l02398"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a1">02398</a>         <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a0">AnnotatorNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
02399           _scoredNode = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a10">getScoredExtentNode</a>( <font class="stringliteral">"scoredNode"</font> );
02400         }
02401 
<a name="l02402"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a2">02402</a>         std::string <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a2">typeName</a>()<font class="keyword"> const </font>{
02403           <font class="keywordflow">return</font> <font class="stringliteral">"AnnotatorNode"</font>;
02404         }
02405 
<a name="l02406"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a3">02406</a>         std::string <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a3">queryText</a>()<font class="keyword"> const </font>{
02407           <font class="keywordflow">return</font> _scoredNode-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a5">queryText</a>();
02408         }
02409 
<a name="l02410"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a4">02410</a>         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a4">getChild</a>() {
02411           <font class="keywordflow">return</font> _scoredNode;
02412         }
02413 
<a name="l02414"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a5">02414</a>         <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a5">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
02415           packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a1">before</a>(<font class="keyword">this</font>);
02416           packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a3">put</a>( <font class="stringliteral">"scoredNode"</font>, _scoredNode );
02417           packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a2">after</a>(<font class="keyword">this</font>);
02418         }
02419 
<a name="l02420"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a6">02420</a>         <font class="keywordtype">void</font> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
02421           walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a3">before</a>(<font class="keyword">this</font>);
02422           _scoredNode-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a9">walk</a>(walker);
02423           walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4">after</a>(<font class="keyword">this</font>);
02424         }
02425 
<a name="l02426"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a7">02426</a>         <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
02427           copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a3">before</a>(<font class="keyword">this</font>);
02428           <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = dynamic_cast&lt;ScoredExtentNode*&gt;(_scoredNode-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a10">copy</a>(copier));
02429           <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html">AnnotatorNode</a>* duplicate = <font class="keyword">new</font> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a0">AnnotatorNode</a>(duplicateChild);
02430           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a2">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#a3">nodeName</a>() );
02431           <font class="keywordflow">return</font> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a4">after</a>(<font class="keyword">this</font>, duplicate);
02432         }
02433     };
02434   }
02435 }
02436 
02437 <font class="preprocessor">#endif // INDRI_QUERYSPEC_HPP</font>
02438 <font class="preprocessor"></font>
02439 
02440 
</pre></div><hr><address align="right"><small>Generated on Tue Nov 16 15:17:22 2004 for INDRI by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.16 </small></address>
</body>
</html>
