<HTML>
<HEAD>
<TITLE> Indri Structured Query Retrieval</TITLE>
</HEAD>
<BODY bgcolor="ffffff">
<H1 align="center">Indri Structured Query Retrieval</H1>

<H2>Contents</H2>
<OL>
<LI> <A HREF="#overiew">Overview</A> 
<LI> <A HREF="#application">Applications</A> 
<LI> <A HREF="#structQ">Indri Structured Query Language</A>
</OL><BR>

<H2><A NAME="overview">1. Overview</A></H2>

<p>
The Indri structured query language brings structured queries to
language modeling retreival. Among other things, this query language
enables the use of proximity operators (ordered and unordered windows)
and field operators in a language modeling context. 

<p><b>The Indri structured query language can only be used with an
Indri index (as built by IndriBuildIndex).</b>

<p>Pseudo-feedback is implemented via relevance model (RM1) expansion.

<H2><A NAME="application">2. Applications</A></H2>
<!-- The URLs need to be checked, including the target names -->
<P><a
href="http://www.lemurproject.org/~lemur/3.1/app.html#indribuildindex">IndriBuildIndex</a>
- Constructs an Indri index suitable for use with the Indri query language.
<P><a
href="http://www.lemurproject.org/~lemur/3.1/app.html#indrirunquery">IndriRunQuery</a>
- Retrieval evaluation for the Indri structured query language.

<P><a
href="http://www.lemurproject.org/~lemur/3.1/app.html#reteval">RetEval</a>
- Retrieval evaluation using the IndriRetMethod for the Indri structured
query language.


<H2><A NAME="structQ">3. Indri Structured Query Language</A></H2>

<p> The structured query operators are classified as either
<em>belief</em>, <em>proximity</em>, or <em>field</em> operators. Belief
operators allow beliefs about terms, proximity expressions, and other
complex expressions to be combined. The primary operators for most
queries are <tt>#combine</tt> and <tt>#weight</tt>. 

<p>

<pre>

   Combine Belief Operator:  #combine(T1 ... Tn)

     Combine the belief values of each child node with equal weight.

   Weight Belief Operator:   #weight(W1 T1 ... WN TN)

     Combine the belief values of each child  node with the explicit
     weights for each node.

   Ordered Distance Operator:  #N (T1 ... Tn)  or #odN (T1 ... Tn)

     The terms within an ODN operator must be found within N words of
     each other in the text in order to contribute to the document's
     belief value.  The "#N" version is an abbreviation of #ODN, thus
     #3(health care) is equivalent to #od3(health care).

   Un-ordered Window Operator:  #uwN(T1 ... Tn)

     The terms contained in a UWN operator must be found in any order
     within a window of N words in order for this operator to contribute
     to the belief value of the document.

   Synonym Operator:  &lt;T1 ... Tn&gt;

     The terms or proximity expressions within the operator are treated
     as instances of the same term, eg <#1(light bulb) lightbulb>.

   Quote Operator: "T1"

     The term within the double quotes is treated as a literal, it will
     not be stemmed or normalized.

   Base 64 Decode Operator: #base64(encodedterm )

      converts from base64 -> ascii and then stems and
      normalizes. Useful for including non-parsable terms in a query.

   Base 64 Decode Quote Operator: #base64quote(encodedterm )

      same as #base64 except the the ascii term is unstemmed and
      unnormalized.

   Or Belief Operator:  #or(T1 ... Tn)

     One of terms within the OR operator must be found in a document for
     that document to get credit for this operator.

   Maximum Belief Operator:  #max(T1 ... Tn)

     The maximum belief value of all the terms or nodes contained in the
     MAX operator is taken to be the belief value of this operator.

   Filter Require Belief Operator: #filreq(arg1 arg2)

     Use the documents returned (belief list) of the second argument if
     and only if the first argument would return documents.  The value
     of the first argument does not effect the belief values of the
     second argument; only whether they will be returned or not.

   Filter Reject Belief Operator: #filrej(arg1 arg2)

     Use the documents returned by the second argument if and only if
     there were no documents returned by the first argument.  The value
     of the first argument does not effect the belief values of the
     second argument; only whether they will be returned or not.

   Weighted And Belief Operator:  #wand(W1 T1 ... WN Tn) or 

     Combine each term or node with the explicit weights.

   Negation Belief Operator:  #not(arg1)

     The term or node contained in this operator is negated so that
     documents which do not contain it are rewarded.  

   Sum Belief Operator:   #sum (T1 ... Tn )

     The terms or nodes contained in the sum operator are treated as
     having equal influence on the final result.  The belief values
     provided by the arguments of the sum are averaged to produce the
     belief value of the #sum node.

   Weighted Sum Belief Operator:  #wsum (W1 T1 ... Wn Tn)

     The terms or nodes contained in the wsum operator contribute
     unequally to the final result according to the weight associated
     with each (Wx).  Note that this is a change from the InQuery
     operator, as there is no initial weight, Ws, for scaling the belief
     value of the sum.

   Any operator: #any:E

     The any operator is used to match extent types, E is an extent
     (field) name such as DATE, TITLE, PERSON... E.g. 
        #1(napolean died in #any:DATE)
     matches exact phrases of the form: "napolean died in &lt;date&gt;...&lt;/date&gt;" 

   Numeric Field Less Belief Operator: #less(F1 N)

     Matches extents where the numeric value of the field F1 is less
     than N.

   Numeric Field Equals Belief Operator: #equals(F1 N)

     Matches extents where the numeric value of the field F1 is equal to
     N. 

   Numeric Field Greater Belief Operator: #greater(F1 N)

     Matches extents where the numeric value of the field F1 is greater
     than N.

   Numeric Field Between Belief Operator: #between(F1 N1 N2)

     Matches extents where the numeric value of the field F1 is in the
     range [N1..N2).

   Date Field Before Belief Operator: #date:before(D1)

     Matches date extents where the date value of the field is before D1.

   Date Field After Belief Operator: #date:after(D1)

     Matches date extents where the date value of the field is after D1.

   Date Field Between Belief Operator: #between(D1 D2)

     Matches date extents where the date value of the field is in the
     range [D1..D2).

Recognized date formats:
 11 january 2004
 11-JAN-04
 11-JAN-2004
 January 11 2004
 01/11/04
 01/11/2004

Field restriction / evaluation:
expression.f1,...,fN(c1,...,cN) -- matches when the expression appears
in field f1 AND f2 AND ... AND fN and evaluates the expression using the
language model defined by the concatenation of fields c1...cN within the
document.

Examples:
dog.title -- matches the term dog appearing in a title extent (uses
document language model)

#1(fred flintstone).person -- matches the phrase "fred flintstone" when it
appears in a person extent (uses document language model)

dog.(title) -- evaluates the term based on the title language model for
the document

#1(barney rubble).person(header) -- builds a language model from all of
the "header" text in the document and evaluates #1(barney rubble).person
in that context (matches only the exact phrase appearing within a person
extent within the header context)

Extent retrieval:
#beliefop[field]( query ) -- evaluates #beliefop( query ) for all extents
of type "field" in the document and returns a score for each. the language
model used to evaluate the query is formed from the text of the extent.

Example:
#combine[sentence]( #1(napolean died in #any:DATE ) ) -- returns a scored
list of sentence extents that match the given query

</pre>
</BODY>
</HTML>
